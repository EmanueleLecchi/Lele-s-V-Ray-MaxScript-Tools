#! C:/Program Files/Nuke10.0v3/nuke-10.0.3.dll -nx
version 10.0 v3
define_window_layout_xml {<?xml version="1.0" encoding="UTF-8"?>
<layout version="1.0">
    <window x="0" y="0" w="5120" h="2880" screen="0">
        <splitter orientation="1">
            <split size="40"/>
            <dock id="" hideTitles="1" activePageId="Toolbar.1">
                <page id="Toolbar.1"/>
            </dock>
            <split size="4441" stretch="1"/>
            <splitter orientation="2">
                <split size="1655"/>
                <dock id="" activePageId="Viewer.1">
                    <page id="Viewer.1"/>
                </dock>
                <split size="1163"/>
                <dock id="" activePageId="DAG.1" focus="true">
                    <page id="DAG.1"/>
                    <page id="Curve Editor.1"/>
                    <page id="DopeSheet.1"/>
                </dock>
            </splitter>
            <split size="615"/>
            <dock id="" activePageId="Properties.1">
                <page id="Properties.1"/>
            </dock>
        </splitter>
    </window>
</layout>
}
Root {
 inputs 0
 name D:/_Code/GitRepo/Exposimeter_MKIV_RGB/nuke_comps/constact_sheets.nk
 frame 0
 first_frame 0
 last_frame 15
 lock_range true
 format "2048 1556 0 0 2048 1556 1 2K_Super_35(full-ap)"
 proxy_type scale
 proxy_format "1024 778 0 0 1024 778 1 1K_Super_35(full-ap)"
 colorManagement Nuke
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-003_Unweighted_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 version 3
 name Read8
 xpos 1080
 ypos -364
}
Group {
 name VRayKerneler2
 label "\[value viewPD]\n"
 xpos 1080
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N39b2400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N39b3400 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N39b2c00 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N39b2c00
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N39fb000 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N39fac00 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N39fa800 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N39fa400 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N39fbc00 [stack 0]
push $N39b3400
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N39fb800 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N3a23800 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N39fbc00
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N39b2400
push $N39fa800
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N3a23c00 [stack 0]
push $N39fb800
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N3a23c00
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N39fb000
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N3a48400 [stack 0]
push $N39fac00
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N39fb000
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N207e1000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N207e0c00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N207e0800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N207e0800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N207e0c00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N207e1000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N3a48400
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N39fa400
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N20820800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N20820800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N20847400 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N20847000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N20846c00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N20846c00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N20847000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N2087d800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 50 46 49 52 57 52 53 48 44 32 50 46 49 52 57 52 53 48 44 32 50 46 55 54 53 49 52 48 44 32 50 46 49 52 57 52 53 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 49 49 56 57 55 48 44 32 48 46 49 49 49 51 51 52 44 32 48 46 49 49 49 51 51 52 44 32 48 46 49 49 56 57 55 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 174 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 172 16 173 16 172 16 175 16 176 16 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N2087d800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N3a23800
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N20847400
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N2087c000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N22193c00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N22193800 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.118970436 0.1206947709 0.1250606132 0.1267135417 0.1284594981 0.1307937105 0.1347103618 0.1375989963 0.1388957771 0.1329164854 0.126056691 0.1773621274 0.1139440603 0.112484818 0.1116276306 0.1113344441} 0 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 2.149447203 2.234295845 2.424558401 2.580776215 2.466082335 2.28907156 1.951295733 1.710964084 1.585495234 1.917822123 2.689516306 7.498227119 4.436446667 3.119597435 2.729727507 2.765139818} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N22193c00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.1113344441 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 2.765139818}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N22193800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.1113344441 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 2.149447203 2.234295845 2.424558401 2.580776215 2.466082335 2.28907156 1.951295733 1.710964084 1.585495234 1.917822123 2.689516306 7.498227119 4.436446667 3.119597435 2.729727507 2.765139818} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N2087c000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1189704313 0.1206947662 0.1250606125 0.126713534 0.1284594873 0.1307937054 0.1347103571 0.1375989922 0.1388957685 0.1329164783 0.1260566808 0.1773621164 0.1139440544 0.1124848122 0.1116276249 0.1113344384} {curve 0.128877053 0.1307449849 0.1354743615 0.1372649292 0.1391562719 0.1416848501 0.1459276487 0.1490568158 0.1504615816 0.1439843907 0.136553385 0.1288454973 0.1223795043 0.1218318494 0.1209228236 0.1206052244} {curve 0.1355959339 0.1375612483 0.1425371873 0.1444211032 0.1464110501 0.1490714528 0.1535354455 0.1568277484 0.1583057503 0.1514908779 0.1436724628 0.1355627325 0.1287596414 0.128183435 0.1272270181 0.1268928612} 0}
  maxlumapixdata {{curve 283 376 311 313 458 519 533 487 628 536 632 617 638 639 639 453} {curve 197 239 184 202 231 183 217 186 167 190 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 2.149447203 2.234295845 2.424558163 2.580775976 2.466082096 2.289071321 1.951295614 1.710964084 1.585494876 1.917821765 2.689516068 7.498226643 4.43644619 3.119597197 2.729727268 2.76513958} {curve 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.312713027} 0.329016}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-003_Histogram_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 version 13
 name Read6
 xpos 920
 ypos -364
}
Group {
 name VRayKerneler5
 label "\[value viewPD]\n"
 xpos 920
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N221e3400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N221e3000 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N221e2800 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N221e2800
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N22211c00 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N22211800 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N22211400 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N22211000 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N22210800 [stack 0]
push $N221e3000
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N22210400 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N2223bc00 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N22210800
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N221e3400
push $N22211400
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N2223a000 [stack 0]
push $N22210400
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N2223a000
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N22211c00
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N22264400 [stack 0]
push $N22211800
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N22211c00
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N2fcdb000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N2fcdac00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N2fcda800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N2fcda800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N2fcdac00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N2fcdb000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N22264400
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N22211000
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N2fd1a800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N2fd1a800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N2fd3d400 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N2fd3d000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N2fd3cc00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N2fd3cc00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N2fd3d000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N2fd75800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 49 54 53 46 53 50 57 48 48 48 44 32 49 54 53 46 53 50 57 48 48 48 44 32 50 48 46 50 57 48 56 48 48 44 32 49 54 53 46 53 50 57 48 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 57 46 49 54 49 57 52 48 44 32 48 46 56 49 54 57 56 50 44 32 48 46 56 49 54 57 56 50 44 32 57 46 49 54 49 57 52 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 93 96 105 108 116 119 128 144 151 154 161 164 171 174 181}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 171 15 172 15 173 15 174 15 175 15 176 15 177 15 178 15 181 16 182 16 183 16 182 1000 183 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N2fd75800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N2223bc00
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N2fd3d400
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N2fd74000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N2fdc1c00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N2fdc1800 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 9.161936948 8.80348982 7.772919284 6.743452824 7.492256004 9.560605384 13.78264079 16.93084813 16.90653708 12.13934654 7.096158016 3.205256183 0.7670358157 0.8119587164 0.8310134778 0.8169824155} 0 0 0}
  maxlumapixdata {{curve 249 376 423 333 458 519 533 564 588 536 632 632 638 639 639 453} {curve 188 239 234 228 231 183 217 178 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 165.5293427 162.9697876 150.6941071 137.3439789 143.8314819 167.3238678 199.6432037 210.5253143 192.9881134 175.1559143 151.4019775 135.5065918 29.86477089 22.51845551 20.32149506 20.29084969} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N2fdc1800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.8169824155 0 0}
  maxlumapixdata {{curve 283 376 423 333 458 519 533 580 588 536 632 632 638 639 639 453} {curve 197 239 234 228 231 183 217 172 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 165.5293579 162.9697876 150.6941071 137.3439789 143.8314819 167.3238678 199.6432037 210.5252991 192.9881134 175.1559143 151.4019775 135.5065918 29.86477089 22.51845551 20.32149506 20.29084969} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N2fdc1c00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.8169824155 0}
  maxlumapixdata {{curve 283 376 423 333 458 519 533 564 588 536 632 632 638 639 639 453} {curve 197 239 234 228 231 183 217 178 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 20.29084969}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 133
 }
push $N2fd74000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 9.161936145 8.803489271 7.772918758 6.743452693 7.492255974 9.560604547 13.78263984 16.93084718 16.90653657 12.13934613 7.096157739 3.205256015 0.7670357759 0.8119586744 0.8310134349 0.816982373} {curve 0.1288770539 0.1307449852 0.1354743619 0.1372649287 0.1391562712 0.1416848504 0.1459276492 0.1490568155 0.1504615803 0.1439843906 0.1365533839 0.1288454974 0.1223795043 0.1218318494 0.1209228236 0.1206052245} {curve 0.1355959336 0.137561247 0.1425371864 0.1444211034 0.1464110506 0.1490714525 0.1535354451 0.1568277478 0.1583057501 0.151490879 0.143672463 0.1355627327 0.1287596414 0.128183435 0.1272270181 0.1268928612} 0}
  maxlumapixdata {{curve 249 376 423 333 458 519 533 580 588 536 598 632 638 639 639 453} {curve 188 239 234 228 231 183 217 172 170 198 168 170 125 121 119 170}}
  maxlumapixvalue {{curve 165.5293427 162.9697876 150.6941071 137.3439636 143.8314819 167.3238525 199.6431885 210.5252838 192.9881134 175.155899 151.401947 135.5065918 29.86476898 22.51845551 20.32149506 20.29084778} {curve 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129674 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127130568} 0.329016}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-003_Bins_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 version 5
 name Read5
 xpos 760
 ypos -364
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-003_Raw_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 version 5
 name Read7
 xpos 600
 ypos -364
}
Group {
 name VRayKerneler6
 label "\[value viewPD]\n"
 xpos 600
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N31ee3000 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N31ee2c00 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N31ee2400 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N31ee2400
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N31f1d800 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N31f1d400 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N31f1d000 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N31f1cc00 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N31f1c400 [stack 0]
push $N31ee2c00
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N31f1c000 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N31f43800 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N31f1c400
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N31ee3000
push $N31f1d000
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N31f73c00 [stack 0]
push $N31f1c000
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N31f73c00
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N31f1d800
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N31f72000 [stack 0]
push $N31f1d400
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N31f1d800
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N31f98c00 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N31f98800 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N31f98400 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N31f98400
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N31f98800
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N31f98c00
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N31f72000
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N31f1cc00
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N340cc400 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N340cc400
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N340ef000 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N340eec00 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N340ee800 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N340ee800
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N340eec00
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N3411d400 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 50 53 48 46 48 48 48 48 48 48 44 32 50 53 48 46 48 48 48 48 48 48 44 32 51 51 46 48 57 54 57 48 48 44 32 50 53 48 46 48 48 48 48 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 49 51 46 56 51 55 51 48 48 44 32 49 46 51 51 50 54 48 48 44 32 49 46 51 51 50 54 48 48 44 32 49 51 46 56 51 55 51 48 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 93 96 105 108 116 119 128 144 152 155 162 165 172 175 183}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 181 16 182 16 171 15 172 15 173 15 174 15 175 15 176 15 177 15 178 15 179 15 183 16 184 16 185 16 183 1000 184 1000 185 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N3411d400
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N31f43800
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N340ef000
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N34175c00 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N34175800 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 62
 }
set N34175400 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 13.83733443 13.50479475 12.89520002 12.27475592 13.02263469 14.28458579 17.25909929 20.10548455 21.90101677 17.32649632 11.71741733 5.913470644 1.171103047 1.224288685 1.298409614 1.332599347} 0 0 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 250.0000763 250.0001221 250.0001068 250.0000763 250.0001221 250.0000763 250.0001221 250.0000763 250.0000916 250.0001373 250.0000763 250.0000763 45.59725189 33.95380783 31.75113869 33.09688568} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N34175400
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 1.332599347 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 250.0000916 250.0001221 250.0000916 250.0000916 250.0001221 250.0000763 250.0001221 250.0000916 250.0000916 250.0001373 250.0000916 250.0000763 45.59725189 33.95380783 31.75113869 33.09688568} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 133
 }
push $N34175800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 1.332599347 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 33.09688568}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N34175c00
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 13.83733376 13.50479409 12.8951994 12.27475532 13.02263406 14.2845851 17.25909846 20.10548357 21.9010157 17.32649548 11.71741675 5.913470352 1.171102987 1.224288621 1.298409547 1.332599279} {curve 0.1288770536 0.1307449845 0.1354743616 0.1372649287 0.1391562723 0.1416848502 0.1459276491 0.1490568151 0.1504615806 0.1439843901 0.1365533844 0.1288454973 0.1223795043 0.1218318494 0.1209228236 0.1206052244} {curve 0.1355959345 0.1375612481 0.1425371867 0.1444211032 0.1464110503 0.1490714531 0.1535354463 0.1568277484 0.15830575 0.1514908775 0.1436724633 0.1355627328 0.1287596414 0.1281834351 0.127227018 0.1268928612} 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 250.000061 250.0001221 250.0000916 250.000061 250.0001221 250.000061 250.0001221 250.000061 250.000061 250.0001373 250.000061 250.000061 45.59724808 33.95380402 31.75113678 33.09688568} {curve 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027} 0.3290160298}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet1
 xpos 920
 ypos -82
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 3
 in_colorspace linear
 out_colorspace linear
 name Write2
 xpos 920
 ypos -16
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-001_Unweighted_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 name Read4
 xpos 120
 ypos -400
}
Group {
 name VRayKerneler4
 label "\[value viewPD]\n"
 xpos 120
 ypos -292
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N36382800 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N36382400 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N363d3c00 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N363d3c00
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N363d3000 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N363d2c00 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N363d2800 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N363d2400 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N363fbc00 [stack 0]
push $N36382400
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N363fb800 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N363fb000 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N363fbc00
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N36382800
push $N363d2800
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N3641f400 [stack 0]
push $N363fb800
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N3641f400
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N363d3000
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N36443800 [stack 0]
push $N363d2c00
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N363d3000
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N36442400 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N36442000 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N3646dc00 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N3646dc00
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N36442000
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N36442400
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N36443800
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N363d2400
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N38697c00 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N38697c00
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N38696800 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N38696400 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N38696000 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N38696000
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N38696400
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N386b6c00 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 50 46 49 52 57 52 53 48 44 32 50 46 49 52 57 52 53 48 44 32 50 46 55 54 53 49 52 48 44 32 50 46 49 52 57 52 53 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 49 49 56 57 55 48 44 32 48 46 49 49 49 51 51 52 44 32 48 46 49 49 49 51 51 52 44 32 48 46 49 49 56 57 55 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 174 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 172 16 173 16 172 16 175 16 176 16 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N386b6c00
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N363fb000
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N38696800
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N386fb400 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N386fb000 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N386fac00 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.118970436 0.1206947709 0.1250606132 0.1267135417 0.1284594981 0.1307937105 0.1347103618 0.1375989963 0.1388957771 0.1329164854 0.126056691 0.1773621274 0.1139440603 0.112484818 0.1116276306 0.1113344441} 0 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 2.149447203 2.234295845 2.424558401 2.580776215 2.466082335 2.28907156 1.951295733 1.710964084 1.585495234 1.917822123 2.689516306 7.498227119 4.436446667 3.119597435 2.729727507 2.765139818} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N386fb000
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.1113344441 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 2.765139818}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N386fac00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.1113344441 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 2.149447203 2.234295845 2.424558401 2.580776215 2.466082335 2.28907156 1.951295733 1.710964084 1.585495234 1.917822123 2.689516306 7.498227119 4.436446667 3.119597435 2.729727507 2.765139818} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N386fb400
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1189704313 0.1206947662 0.1250606125 0.126713534 0.1284594873 0.1307937054 0.1347103571 0.1375989922 0.1388957685 0.1329164783 0.1260566808 0.1773621164 0.1139440544 0.1124848122 0.1116276249 0.1113344384} {curve 0.128877053 0.1307449849 0.1354743615 0.1372649292 0.1391562719 0.1416848501 0.1459276487 0.1490568158 0.1504615816 0.1439843907 0.136553385 0.1288454973 0.1223795043 0.1218318494 0.1209228236 0.1206052244} {curve 0.1355959339 0.1375612483 0.1425371873 0.1444211032 0.1464110501 0.1490714528 0.1535354455 0.1568277484 0.1583057503 0.1514908779 0.1436724628 0.1355627325 0.1287596414 0.128183435 0.1272270181 0.1268928612} 0}
  maxlumapixdata {{curve 283 376 311 313 458 519 533 487 628 536 632 617 638 639 639 453} {curve 197 239 184 202 231 183 217 186 167 190 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 2.149447203 2.234295845 2.424558163 2.580775976 2.466082096 2.289071321 1.951295614 1.710964084 1.585494876 1.917821765 2.689516068 7.498226643 4.43644619 3.119597197 2.729727268 2.76513958} {curve 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.312713027} 0.329016}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-001_Histogram_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 name Read2
 xpos -40
 ypos -400
}
Group {
 name VRayKerneler3
 label "\[value viewPD]\n"
 xpos -40
 ypos -292
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N3874a800 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N3874a400 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N397a5c00 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N397a5c00
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N397a5000 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N397a4c00 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N397a4800 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N397a4400 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N397cdc00 [stack 0]
push $N3874a400
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N397cd800 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N397cd000 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N397cdc00
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N3874a800
push $N397a4800
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N397f1400 [stack 0]
push $N397cd800
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N397f1400
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N397a5000
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N39815800 [stack 0]
push $N397a4c00
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N397a5000
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N39814400 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N39814000 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N3983dc00 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N3983dc00
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N39814000
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N39814400
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N39815800
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N397a4400
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N3b9c7c00 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N3b9c7c00
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N3b9c6800 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N3b9c6400 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N3b9c6000 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N3b9c6000
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N3b9c6400
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N3b9eac00 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 49 54 53 46 53 50 57 48 48 48 44 32 49 54 53 46 53 50 57 48 48 48 44 32 50 48 46 50 57 48 56 48 48 44 32 49 54 53 46 53 50 57 48 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 57 46 49 54 49 57 52 48 44 32 48 46 56 49 54 57 56 50 44 32 48 46 56 49 54 57 56 50 44 32 57 46 49 54 49 57 52 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 93 96 105 108 116 119 128 144 151 154 161 164 171 174 181}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 171 15 172 15 173 15 174 15 175 15 176 15 177 15 178 15 181 16 182 16 183 16 182 1000 183 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N3b9eac00
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N397cd000
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N3b9c6800
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N3ba35400 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N3ba35000 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N3ba34c00 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 9.161936948 8.80348982 7.772919284 6.743452824 7.492256004 9.560605384 13.78264079 16.93084813 16.90653708 12.13934654 7.096158016 3.205256183 0.7670358157 0.8119587164 0.8310134778 0.8169824155} 0 0 0}
  maxlumapixdata {{curve 249 376 423 333 458 519 533 564 588 536 632 632 638 639 639 453} {curve 188 239 234 228 231 183 217 178 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 165.5293427 162.9697876 150.6941071 137.3439789 143.8314819 167.3238678 199.6432037 210.5253143 192.9881134 175.1559143 151.4019775 135.5065918 29.86477089 22.51845551 20.32149506 20.29084969} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N3ba34c00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.8169824155 0 0}
  maxlumapixdata {{curve 283 376 423 333 458 519 533 580 588 536 632 632 638 639 639 453} {curve 197 239 234 228 231 183 217 172 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 165.5293579 162.9697876 150.6941071 137.3439789 143.8314819 167.3238678 199.6432037 210.5252991 192.9881134 175.1559143 151.4019775 135.5065918 29.86477089 22.51845551 20.32149506 20.29084969} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N3ba35000
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.8169824155 0}
  maxlumapixdata {{curve 283 376 423 333 458 519 533 564 588 536 632 632 638 639 639 453} {curve 197 239 234 228 231 183 217 178 170 198 280 170 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 20.29084969}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 133
 }
push $N3ba35400
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 9.161936145 8.803489271 7.772918758 6.743452693 7.492255974 9.560604547 13.78263984 16.93084718 16.90653657 12.13934613 7.096157739 3.205256015 0.7670357759 0.8119586744 0.8310134349 0.816982373} {curve 0.1288770539 0.1307449852 0.1354743619 0.1372649287 0.1391562712 0.1416848504 0.1459276492 0.1490568155 0.1504615803 0.1439843906 0.1365533839 0.1288454974 0.1223795043 0.1218318494 0.1209228236 0.1206052245} {curve 0.1355959336 0.137561247 0.1425371864 0.1444211034 0.1464110506 0.1490714525 0.1535354451 0.1568277478 0.1583057501 0.151490879 0.143672463 0.1355627327 0.1287596414 0.128183435 0.1272270181 0.1268928612} 0}
  maxlumapixdata {{curve 249 376 423 333 458 519 533 580 588 536 598 632 638 639 639 453} {curve 188 239 234 228 231 183 217 172 170 198 168 170 125 121 119 170}}
  maxlumapixvalue {{curve 165.5293427 162.9697876 150.6941071 137.3439636 143.8314819 167.3238525 199.6431885 210.5252838 192.9881134 175.155899 151.401947 135.5065918 29.86476898 22.51845551 20.32149506 20.29084778} {curve 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129674 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127130568} 0.329016}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-001_Bins_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 name Read1
 xpos -200
 ypos -400
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-001_Raw_#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 15
 origfirst 0
 origlast 15
 origset true
 name Read3
 xpos -360
 ypos -400
}
Group {
 name VRayKerneler1
 label "\[value viewPD]\n"
 xpos -360
 ypos -292
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N3ba72400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N3ba72000 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N3cb33800 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N3cb33800
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N3cb32c00 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N3cb32800 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N3cb32400 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N3cb32000 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N3cb55800 [stack 0]
push $N3ba72000
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N3cb55400 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N3cb54c00 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N3cb55800
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N3ba72400
push $N3cb32400
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N3cb7f000 [stack 0]
push $N3cb55400
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N3cb7f000
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N3cb32c00
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N3cbab400 [stack 0]
push $N3cb32800
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N3cb32c00
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N3cbaa000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N3cbcdc00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N3cbcd800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N3cbcd800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N3cbcdc00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N3cbaa000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N3cbab400
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N3cb32000
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N41d71800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N41d71800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N41d70400 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N41d70000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N41d9dc00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N41d9dc00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N41d70000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N41d9c800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 50 53 48 46 48 48 48 48 48 48 44 32 50 53 48 46 48 48 48 48 48 48 44 32 51 51 46 48 57 54 57 48 48 44 32 50 53 48 46 48 48 48 48 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 49 51 46 56 51 55 51 48 48 44 32 49 46 51 51 50 54 48 48 44 32 49 46 51 51 50 54 48 48 44 32 49 51 46 56 51 55 51 48 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 93 96 105 108 116 119 128 144 152 155 162 165 172 175 183}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 181 16 182 16 171 15 172 15 173 15 174 15 175 15 176 15 177 15 178 15 179 15 183 16 184 16 185 16 183 1000 184 1000 185 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N41d9c800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N3cb54c00
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N41d70400
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N41de1000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N41de0c00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 62
 }
set N41de0800 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 13.83733443 13.50479475 12.89520002 12.27475592 13.02263469 14.28458579 17.25909929 20.10548455 21.90101677 17.32649632 11.71741733 5.913470644 1.171103047 1.224288685 1.298409614 1.332599347} 0 0 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 250.0000763 250.0001221 250.0001068 250.0000763 250.0001221 250.0000763 250.0001221 250.0000763 250.0000916 250.0001373 250.0000763 250.0000763 45.59725189 33.95380783 31.75113869 33.09688568} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N41de0800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 1.332599347 0 0}
  maxlumapixdata {{curve 283 376 311 333 458 519 533 487 588 536 632 617 638 639 639 453} {curve 197 239 184 228 231 183 217 186 170 198 280 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 250.0000916 250.0001221 250.0000916 250.0000916 250.0001221 250.0000763 250.0001221 250.0000916 250.0000916 250.0001373 250.0000916 250.0000763 45.59725189 33.95380783 31.75113869 33.09688568} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 133
 }
push $N41de0c00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 1.332599347 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 33.09688568}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N41de1000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 13.83733376 13.50479409 12.8951994 12.27475532 13.02263406 14.2845851 17.25909846 20.10548357 21.9010157 17.32649548 11.71741675 5.913470352 1.171102987 1.224288621 1.298409547 1.332599279} {curve 0.1288770536 0.1307449845 0.1354743616 0.1372649287 0.1391562723 0.1416848502 0.1459276491 0.1490568151 0.1504615806 0.1439843901 0.1365533844 0.1288454973 0.1223795043 0.1218318494 0.1209228236 0.1206052244} {curve 0.1355959345 0.1375612481 0.1425371867 0.1444211032 0.1464110503 0.1490714531 0.1535354463 0.1568277484 0.15830575 0.1514908775 0.1436724633 0.1355627328 0.1287596414 0.1281834351 0.127227018 0.1268928612} 0}
  maxlumapixdata {{curve 257 376 423 313 458 519 533 564 588 536 598 617 638 639 639 453} {curve 188 239 234 202 231 183 217 178 170 198 168 244 125 121 119 170}}
  maxlumapixvalue {{curve 250.000061 250.0001221 250.0000916 250.000061 250.0001221 250.000061 250.0001221 250.000061 250.000061 250.0001373 250.000061 250.000061 45.59724808 33.95380402 31.75113678 33.09688568} {curve 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027} 0.3290160298}
  minlumapixdata {{curve 0 0 0 0 0 0 2 88 72 22 7 7 4 49 46 60} {curve 0 0 0 0 0 0 113 44 41 44 45 55 63 70 80 81}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet
 xpos -40
 ypos -118
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 2
 in_colorspace linear
 out_colorspace linear
 name Write1
 xpos -40
 ypos -52
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-008_Unweighted.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read11
 xpos 1960
 ypos -364
}
Group {
 name VRayKerneler7
 label "\[value viewPD]\n"
 xpos 1960
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N4652bc00 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N4652b800 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N4652b000 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N4652b000
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N4652a400 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N4652a000 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N4654fc00 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N4654f800 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N4654f000 [stack 0]
push $N4652b800
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N4654ec00 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N4654e400 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N4654f000
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N4652bc00
push $N4654fc00
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N46576800 [stack 0]
push $N4654ec00
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N46576800
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N4652a400
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N465a0c00 [stack 0]
push $N4652a000
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N4652a400
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N465c5800 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N465c5400 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N465c5000 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N465c5000
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N465c5400
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N465c5800
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N465a0c00
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N4654f800
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N46609000 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N46609000
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N4662fc00 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N4662f800 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N4662f400 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N4662f400
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N4662f800
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N4662e000 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 48 46 57 54 50 54 55 54 44 32 48 46 57 54 50 54 55 54 44 32 48 46 57 54 50 54 55 57 44 32 48 46 57 54 50 54 55 54 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 49 52 55 56 52 50 44 32 48 46 49 52 55 56 51 51 44 32 48 46 49 52 55 56 51 51 44 32 48 46 49 52 55 56 52 50 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 174 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 172 16 173 16 172 16 175 16 176 16 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N4662e000
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N4654e400
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N4662fc00
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N46668800 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N46668400 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N46668000 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1478417003 0.1502181973 0.1557802648 0.1633758388 0.1628279933 0.14970888 0.1298248789 0.1160047401 0.1157002823 0.1150152418 0.1143555707 0.113735367 0.1132617641 0.1127214334 0.1119377303 0.1115439986 0.1119236371 0.1127402339 0.1132514327 0.1137588624 0.1143339599 0.1150302758 0.1156636356 0.1160545433 0.1297966851 0.1496788108 0.1628580762 0.1633918091 0.1557821395 0.1502181916 0.1478332301} 0 0 0}
  maxlumapixdata {{curve 236 295 279 564 573 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 549 559 518 459 271} {curve 208 222 171 191 166 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 406 166 179 197 214}}
  maxlumapixvalue {{curve 0.9626760483 0.9715340137 0.989885509 0.9274417758 0.9499525428 1.229099751 2.660530567 7.795032024 7.448105335 6.026529789 6.39793539 5.739323139 5.270606041 4.1822052 3.943645477 3.611536026 3.724115372 4.35143137 4.965729237 5.95945406 5.752475262 6.188943386 7.560696125 7.69297266 2.659974098 1.228919387 0.9502331614 0.9276223183 0.9899549484 0.9715215564 0.9626788497} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N46668000
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.1478332301 0 0}
  maxlumapixdata {{curve 252 242 279 564 515 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 549 559 518 459 271} {curve 171 194 171 191 241 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 406 166 179 197 214}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0.9626759887 0.9715339541 0.989885509 0.9274417758 0.9499526024 1.229099751 2.660530567 7.795032024 7.448105335 6.026529789 6.39793539 5.739323139 5.270606041 4.1822052 3.943645477 3.611536026 3.724115372 4.35143137 4.965729237 5.95945406 5.752475262 6.188943386 7.560696125 7.69297266 2.659974098 1.228919387 0.9502331614 0.9276223183 0.9899549484 0.9715215564 0.9626788497} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N46668400
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.1478332301 0}
  maxlumapixdata {{curve 252 295 279 564 573 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 552 559 518 274 271} {curve 171 222 171 191 166 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 190 166 179 172 214}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0.9626788497}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N46668800
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1478416939 0.1502181907 0.1557802596 0.1633758292 0.1628279882 0.1497088796 0.1298248716 0.1160047342 0.1157002763 0.1150152359 0.1143555648 0.1137353611 0.1132617583 0.1127214276 0.1119377245 0.1115439927 0.1119236313 0.1127402281 0.1132514269 0.1137588565 0.114333954 0.1150302698 0.1156636295 0.1160545372 0.1297966738 0.1496787971 0.1628580665 0.1633918037 0.1557821333 0.1502181868 0.1478332184} {curve 0.1601524269 0.1627268121 0.1687520328 0.176980092 0.1763866293 0.1621750859 0.1406353481 0.1256644161 0.1253346015 0.124592519 0.1238779209 0.1232060765 0.1226930317 0.1221077127 0.1212587458 0.1208322264 0.1212434766 0.1221280717 0.1226818343 0.1232315251 0.1238545081 0.1246088061 0.1252949017 0.1257183672 0.1406048097 0.1621425113 0.1764192043 0.1769973963 0.1687540713 0.1627268121 0.1601432651} {curve 0.1685018183 0.171210417 0.1775497584 0.1862067782 0.1855823755 0.1706299283 0.1479672362 0.1322158089 0.1318687998 0.1310880294 0.1303361764 0.1296293061 0.1290895142 0.1284736802 0.1275804533 0.1271316976 0.127564388 0.1284951006 0.1290777331 0.1296560815 0.1303115431 0.1311051656 0.1318270302 0.1322725727 0.1479351051 0.1705956531 0.1856166496 0.1862249858 0.177551902 0.1712104189 0.1684921795} 0}
  maxlumapixdata {{curve 236 270 510 570 515 633 596 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 637 581 552 559 518 274 271} {curve 208 171 169 168 241 162 168 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 163 189 190 166 179 172 214}}
  maxlumapixvalue {{curve 0.9626759887 0.9715337157 0.989885211 0.9274417162 0.9499525428 1.229099512 2.660530329 7.795031548 7.448104858 6.026529312 6.397934914 5.739323139 5.270605564 4.182204723 3.943645477 3.611535788 3.724114895 4.35143137 4.96572876 5.959453583 5.752474785 6.188942909 7.560695648 7.692972183 2.659973621 1.228919387 0.9502331018 0.9276222587 0.9899548888 0.9715214372 0.9626787901} {curve 0.312713027 0.312713027 0.312713027 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027} 0.3290160298}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-008_Histogram.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read12
 xpos 1800
 ypos -364
}
Group {
 name VRayKerneler8
 label "\[value viewPD]\n"
 xpos 1800
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N4670fc00 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N4670f800 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N4670f000 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N4670f000
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N4670e400 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N4670e000 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N510d1c00 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N510d1800 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N510d1000 [stack 0]
push $N4670f800
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N510d0c00 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N510d0400 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N510d1000
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N4670fc00
push $N510d1c00
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N510f8800 [stack 0]
push $N510d0c00
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N510f8800
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N4670e400
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N51122c00 [stack 0]
push $N4670e000
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N4670e400
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N51147800 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N51147400 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N51147000 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N51147000
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N51147400
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N51147800
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N51122c00
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N510d1800
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N5118d000 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N5118d000
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N511b7c00 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N511b7800 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N511b7400 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N511b7400
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N511b7800
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N511b6000 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 53 51 46 54 53 53 50 48 48 44 32 53 51 46 54 53 53 50 48 48 44 32 53 51 46 55 52 53 54 48 48 44 32 53 51 46 54 53 53 50 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 56 46 50 52 48 48 51 48 44 32 56 46 50 53 51 52 49 48 44 32 56 46 50 53 51 52 49 48 44 32 56 46 50 52 48 48 51 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 92 95 103 106 114 117 125 141 148 151 158 161 168 171 178}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 168 15 169 15 170 15 171 15 172 15 173 15 174 15 175 15 178 16 179 16 180 16 179 1000 180 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N511b6000
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N510d0400
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N511b7c00
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N511ee800 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N511ee400 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N511ee000 [stack 0]
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 8.25341165 0 0}
  maxlumapixdata {{curve 236 295 279 570 515 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 552 559 518 459 282} {curve 208 222 171 168 241 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 190 166 179 197 171}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 53.65519333 50.44536591 44.74761581 36.28656769 30.77410507 33.97455978 33.97455978 2.862119436 2.602977991 2.209629297 2.445827484 2.349713802 2.512721777 2.303534746 2.383135319 2.262770653 2.253863573 2.395216703 2.370356083 2.439758301 2.196932077 2.26855731 2.64769721 2.822223425 33.97455978 34.04959869 30.94102097 36.39373016 44.84329987 50.47215652 53.7455864} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N511ee400
 CurveTool {
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 8.25341165 0}
  maxlumapixdata {{curve 236 295 279 570 515 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 552 559 518 459 271} {curve 208 222 171 168 241 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 190 166 179 197 214}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 53.74559021}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N511ee000
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 8.240025614 7.799841972 7.042021937 6.392151877 5.274879695 4.138226396 1.657843412 0.04259372268 0.04043515414 0.0421703812 0.04371628981 0.04656394834 0.0539966939 0.06208632104 0.06764369593 0.06988674719 0.06773706064 0.06205712005 0.0540597812 0.04657207427 0.04366536902 0.04216435237 0.04050450905 0.04257546166 1.657830035 4.147142245 5.30290428 6.410408109 7.056669729 7.804083902 8.25341165} 0 0 0}
  maxlumapixdata {{curve 236 295 279 570 515 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 581 549 559 518 274 271} {curve 208 222 171 168 241 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 189 406 166 179 172 214}}
  maxlumapixvalue {{curve 53.65519333 50.44536591 44.74761581 36.28656769 30.77410507 33.97455978 33.97455978 2.862119436 2.602977991 2.209629297 2.445827484 2.349713802 2.512721777 2.303534746 2.383135319 2.262770653 2.253863573 2.395216703 2.370356083 2.439758301 2.196932077 2.26855731 2.64769721 2.822223425 33.97455978 34.04959869 30.94102287 36.39373016 44.84329987 50.47215271 53.74559021} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N511ee800
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 8.240025241 7.799841412 7.042021519 6.392151478 5.274879571 4.138226192 1.657843331 0.04259372049 0.04043515206 0.04217037902 0.04371628754 0.04656394592 0.05399669111 0.06208631786 0.06764369242 0.06988674355 0.06773705715 0.06205711685 0.05405977839 0.04657207187 0.04366536677 0.04216435019 0.04050450695 0.04257545944 1.657829954 4.147142188 5.302904061 6.410407452 7.056669218 7.804083323 8.253411233} {curve 0.1601524264 0.1627268124 0.1687520336 0.1769800933 0.1763866286 0.1621750856 0.140635348 0.1256644161 0.1253346016 0.1245925189 0.1238779208 0.1232060765 0.1226930317 0.1221077127 0.1212587458 0.1208322264 0.1212434765 0.1221280717 0.1226818343 0.1232315251 0.1238545081 0.1246088061 0.1252949017 0.1257183672 0.1406048097 0.1621425089 0.1764192062 0.1769973954 0.1687540695 0.1627268119 0.1601432648} {curve 0.1685018186 0.1712104163 0.177549757 0.186206775 0.185582377 0.1706299263 0.1479672357 0.1322158089 0.1318687998 0.1310880294 0.1303361764 0.1296293061 0.1290895142 0.1284736803 0.1275804532 0.1271316977 0.127564388 0.1284951006 0.129077733 0.1296560815 0.1303115431 0.1311051657 0.1318270302 0.1322725727 0.1479351052 0.1705956564 0.1856166496 0.1862249814 0.1775518989 0.1712104171 0.1684921789} 0}
  maxlumapixdata {{curve 236 295 279 570 573 590 596 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 637 591 549 559 518 274 271} {curve 208 222 171 168 166 164 168 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 163 166 406 166 179 172 214}}
  maxlumapixvalue {{curve 53.65519333 50.44536209 44.747612 36.28656769 30.77410126 33.97455597 33.97455597 2.862119198 2.602977991 2.209629059 2.445827246 2.349713802 2.512721777 2.303534746 2.38313508 2.262770653 2.253863573 2.395216703 2.370355844 2.439758301 2.196931839 2.268557072 2.64769721 2.822223186 33.97455597 34.04959488 30.94102287 36.39372635 44.84329987 50.47215271 53.7455864} {curve 0.312713027 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972} 0.3290159702}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-008_Bins.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read13
 xpos 1640
 ypos -364
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-008_Raw.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read10
 xpos 1480
 ypos -364
}
Group {
 name VRayKerneler9
 label "\[value viewPD]\n"
 xpos 1480
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N5128f800 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N5128f400 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N5128ec00 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N5128ec00
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N5128e000 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N512b3c00 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N512b3800 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N512b3400 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N512b2c00 [stack 0]
push $N5128f400
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N512b2800 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N512b2000 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N512b2c00
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N5128f800
push $N512b3800
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N512d8400 [stack 0]
push $N512b2800
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N512d8400
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N5128e000
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N51308800 [stack 0]
push $N512b3c00
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N5128e000
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N51329400 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N51329000 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N51328c00 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N51328c00
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N51329000
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N51329400
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N51308800
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N512b3400
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N51366c00 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N51366c00
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N5138f800 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N5138f400 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N5138f000 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N5138f000
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N5138f400
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N513cdc00 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 49 53 46 48 48 48 48 48 48 44 32 49 53 46 48 48 48 48 48 48 44 32 49 53 46 48 48 48 48 48 48 44 32 49 53 46 48 48 48 48 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 50 46 51 48 51 54 49 48 44 32 50 46 51 48 51 52 55 48 44 32 50 46 51 48 51 52 55 48 44 32 50 46 51 48 51 54 49 48 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 92 95 103 106 114 117 125 141 148 151 158 161 168 171 178}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 167 15 168 15 169 15 170 15 171 15 172 15 173 15 174 15 175 15 178 16 179 16 180 16 178 1000 179 1000 180 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N513cdc00
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N512b2000
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N5138f800
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N513cc400 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N513cc000 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 62
 }
set N51415c00 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 2.303606052 2.319294804 2.360581032 2.642363576 2.571097559 1.827055864 0.7319494486 0.0188054261 0.01785240301 0.01861851788 0.01930104733 0.02055830846 0.02383991756 0.02741154445 0.02986516428 0.03085548708 0.02990638545 0.027398652 0.02386777104 0.02056189611 0.01927856545 0.01861585611 0.01788302369 0.01879736374 0.7319435422 1.826957186 2.570813316 2.64210771 2.360443659 2.319324313 2.303467466} 0 0 0}
  maxlumapixdata {{curve 252 242 279 564 573 529 594 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 628 522 552 559 518 459 271} {curve 171 194 171 191 166 186 276 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 229 167 190 166 179 197 214}}
  maxlumapixvalue {{curve 15.00000477 15.00000477 15.00000572 15.00000477 15.00000477 15.00000477 15.00000477 1.263645768 1.149232984 0.9755668044 1.079849958 1.037415028 1.109384179 1.017026663 1.052170873 0.9990290999 0.9950965643 1.057504892 1.046528816 1.077170372 0.9699608684 1.001583934 1.168976784 1.246031404 15.00000477 15.00000477 15.00000477 15.00000572 15.00000477 15.00000477 15.00000572} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N513cc000
 CurveTool {
  color 0.0025
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 2.303467466 0}
  maxlumapixdata {{curve 236 295 279 570 515 590 596 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 637 581 549 559 518 274 271} {curve 208 222 171 168 241 164 168 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 163 189 406 166 179 172 214}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 15.00000572}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  selected true
  xpos -40
  ypos 134
 }
push $N513cc400
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 2.303605944 2.319294695 2.360580921 2.642363452 2.571097437 1.827055779 0.7319494142 0.01880542513 0.01785240209 0.01861851691 0.01930104633 0.0205583074 0.02383991632 0.02741154302 0.02986516273 0.03085548548 0.02990638391 0.02739865059 0.02386776981 0.02056189505 0.01927856445 0.01861585515 0.01788302277 0.01879736276 0.7319435077 1.826957099 2.570813195 2.642107586 2.360443548 2.319324204 2.303467359} {curve 0.1601524246 0.1627268101 0.1687520324 0.1769800897 0.1763866272 0.1621750837 0.1406353473 0.1256644161 0.1253346016 0.1245925189 0.1238779208 0.1232060765 0.1226930317 0.1221077127 0.1212587458 0.1208322264 0.1212434765 0.1221280717 0.1226818343 0.1232315251 0.123854508 0.1246088061 0.1252949016 0.1257183672 0.140604809 0.1621425095 0.1764192015 0.1769973948 0.1687540683 0.1627268101 0.1601432631} {curve 0.1685018177 0.1712104163 0.1775497578 0.186206777 0.1855823749 0.1706299259 0.1479672356 0.1322158089 0.1318687998 0.1310880294 0.1303361764 0.1296293061 0.1290895143 0.1284736803 0.1275804532 0.1271316977 0.127564388 0.1284951006 0.129077733 0.1296560815 0.1303115431 0.1311051657 0.1318270302 0.1322725727 0.1479351051 0.1705956535 0.1856166475 0.1862249843 0.1775518998 0.1712104162 0.1684921786} 0}
  maxlumapixdata {{curve 236 295 279 565 515 623 635 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 637 581 549 559 509 279 271} {curve 208 222 171 166 241 163 163 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 163 189 406 166 170 171 214}}
  maxlumapixvalue {{curve 15.00000572 15.00000572 15.00000572 15.00000191 15.00000572 15.00000191 15.00000191 1.263645768 1.149232864 0.9755667448 1.079849958 1.037414908 1.109384179 1.017026663 1.052170873 0.9990290999 0.9950965047 1.057504892 1.046528816 1.077170253 0.9699608088 1.001583815 1.168976665 1.246031284 15.00000286 15.00000572 15.00000572 15.00000572 15.00000191 15.00000191 15.00000572} {curve 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127130568 0.312713027 0.3127129674 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.312713027 0.312713027 0.312713027 0.3127129972 0.312713027 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972} 0.329016}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
push $N51415c00
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 2.303467466 0 0}
  maxlumapixdata {{curve 236 295 279 570 515 590 596 483 481 285 489 480 469 458 446 444 451 461 467 479 489 288 481 482 637 581 549 559 518 274 271} {curve 208 222 171 168 241 164 168 189 192 166 148 154 158 156 144 151 142 154 151 149 154 163 193 191 163 189 406 166 179 172 214}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 15.00000572 15.00000572 15.00000572 15.00000381 15.00000572 15.00000381 15.00000381 1.263645768 1.149232984 0.9755668044 1.079849958 1.037415028 1.109384179 1.017026663 1.052170873 0.9990290999 0.9950965643 1.057504892 1.046528816 1.077170372 0.9699608684 1.001583934 1.168976784 1.246031404 15.00000381 15.00000572 15.00000572 15.00000572 15.00000477 15.00000381 15.00000572} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 54 0 5 18 22 66 8 51 24 34 66 32 28 12 17 0 6 18 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 30 44 53 59 67 72 82 85 91 95 91 88 79 73 71 62 55 44 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  selected true
  xpos -120
  ypos 133
 }
end_group
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet2
 xpos 1800
 ypos -82
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 5
 in_colorspace linear
 out_colorspace linear
 name Write3
 xpos 1800
 ypos -16
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-010_Unweighted.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read9
 xpos 2920
 ypos -364
}
Group {
 name VRayKerneler10
 label "\[value viewPD]\n"
 xpos 2920
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N5145f000 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N5145ec00 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N5145e400 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N5145e400
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N514a7800 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N514a7400 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N514a7000 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N514a6c00 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N514a6400 [stack 0]
push $N5145ec00
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N514a6000 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N514cb800 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N514a6400
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N5145f000
push $N514a7000
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N514f7c00 [stack 0]
push $N514a6000
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N514f7c00
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N514a7800
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N514f6000 [stack 0]
push $N514a7400
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N514a7800
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N5151ec00 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N5151e800 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N5151e400 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N5151e400
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N5151e800
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N5151ec00
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N514f6000
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N514a6c00
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N51562400 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N51562400
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N51585000 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N51584c00 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N51584800 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N51584800
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N51584c00
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N515b3400 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 54 46 54 53 52 52 51 48 44 32 57 46 48 53 50 48 49 48 44 32 49 49 46 57 50 52 55 48 48 44 32 56 46 55 52 57 52 53 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 55 52 49 52 55 44 32 48 46 49 49 52 54 52 50 44 32 48 46 49 49 53 53 52 56 44 32 48 46 49 48 52 53 50 54 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 112 115 122 138 145 148 155 158 165 168 175}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 175 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 165 15 166 15 167 15 168 15 169 15 170 15 171 15 172 15 173 16 174 16 173 16 176 16 177 16 176 1000 177 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N515b3400
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N514cb800
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N51585000
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N5160fc00 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N5160f800 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N5160f400 [stack 0]
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.1146420503 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 481 380 4 38 138 189 293 334 425 526 518 568 625 14 1 451 638 581 535 318 173 180 28 0 131 130} {curve 208 206 210 369 386 361 374 305 296 303 296 328 298 301 333 305 313 306 273 296 206 243 300 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 9.05201149 9.907381058 9.388558388 144.8435364 33.77006149 34.45022202 34.92863846 23.09996223 7.134712219 4.721576691 3.184357405 3.101528883 3.26683712 3.461484194 3.151943207 3.112937927 3.114575148 4.699914455 6.989911556 49.38996887 8.711006165 16.14933205 2.5121665 1.255357981 1.422858357 1.312162042 1.262157798 2.198611736 179.2807617 10.07856846 9.98197937} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N5160fc00
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1045262728 0.10476101 0.105585752 0.1074994399 0.1080415409 0.1081254044 0.1083003023 0.1246261384 0.1401380852 0.1192840751 0.1052783851 0.105002672 0.1055444637 0.1066035479 0.1059456811 0.1065967144 0.1042446381 0.08688460682 0.07205327137 0.08674354714 0.1035831369 0.1058564594 0.1174885634 0.1348390632 0.1303235936 0.1331776583 0.1348228882 0.1197394411 0.1030224069 0.102325055 0.1025814755} {curve 0.1067927639 0.1068670991 0.1071804244 0.1083729694 0.1117434984 0.112872535 0.1121916123 0.1150109246 0.1173414717 0.119290673 0.1228316167 0.1210519099 0.1232194935 0.121737304 0.1203601951 0.1195771566 0.1178950798 0.1103067181 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180462 0.1366236466 0.1333417921 0.1374148059 0.1419934646 0.1263821623 0.1058540173 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044975 0.138455304 0.1396093968 0.1392839799 0.1440623685 0.1515584619 0.1522998962 0.1549188957 0.1523158975 0.1511703076 0.148330573 0.1512882854 0.1490262144 0.1453204479 0.1329040915 0.12326476 0.1201250676 0.1192940672 0.1202657777 0.1324649971 0.153562477 0.1517573724 0.1606333868 0.1654206721 0.152684443 0.1360713486 0.1353951108 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 639 576 478 377 4 38 138 189 293 334 417 484 544 603 635 7 3 451 638 581 535 465 287 180 28 0 131 130} {curve 208 206 210 365 360 369 361 305 296 303 296 328 298 301 299 298 309 300 271 303 206 231 300 229 202 189 219 211 286 185 183}}
  maxlumapixvalue {{curve 8.749448776 9.608909607 9.0782547 148.2198486 34.55724335 35.25326538 35.74282837 18.07855606 5.583788395 3.695213318 2.492150784 2.427326918 2.556700945 2.709036112 2.466782093 2.436255932 2.437537432 3.678259611 6.177468777 43.64934158 8.249293327 16.14933014 2.5121665 1.255357862 1.422858 1.312161803 1.262157798 2.198611498 179.2807465 9.826542854 9.77986145} {curve 0.2764213383 0.2795732319 0.2769901454 0.4283786714 0.4283786714 0.4283786416 0.4283786714 0.3428262174 0.3428262174 0.3428262174 0.3428262174 0.3428262472 0.3428262174 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.2015735954 0.2015735805 0.3165230751 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.2848427594 0.2899615169} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
push $N5160f800
 CurveTool {
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.115547511 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 376 253 166 600 581 536 426 333 230 202 52 63 13 1 451 638 581 535 318 173 180 28 0 131 130} {curve 208 206 210 376 360 361 359 375 363 342 263 345 259 281 280 283 286 270 284 302 206 243 300 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 11.92474556}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N5160f400
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.07414691946 0.07446065037 0.07603511409 0.09801526478 0.1366842372 0.135821444 0.1339500776 0.09141128089 0.06785006821 0.04707651638 0.02538285961 0.02497947943 0.0257048458 0.02692756089 0.02572945345 0.02604251896 0.02445063161 0.01515680784 0.009433210405 0.03733810487 0.0689832129 0.1031865596 0.117073332 0.1346317044 0.1300887279 0.1329605812 0.1346143915 0.1193762804 0.06058624083 0.05586092642 0.05761894724} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 568 479 376 254 153 48 186 298 317 390 446 511 561 621 449 450 451 638 581 538 318 173 180 28 0 126 127} {curve 208 206 208 365 360 379 386 375 360 359 359 326 303 302 315 365 340 309 210 209 206 243 300 193 274 269 219 211 286 172 174}}
  maxlumapixvalue {{curve 6.654431343 7.532093525 6.974829197 204.1362152 47.59406281 48.5526619 49.22691345 22.72282028 7.018226624 4.644489765 0.9748033881 0.9494475126 1.000052214 1.059638023 0.9648805857 0.9529402256 0.9534413815 1.438749433 0.4582442939 3.362423658 7.232781887 16.14933205 2.5121665 1.255357862 1.422858357 1.312162042 1.262157798 2.198611736 179.2807617 8.945709229 8.446038246} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-010_Histogram.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read15
 xpos 2760
 ypos -364
}
Group {
 name VRayKerneler11
 label "\[value viewPD]\n"
 xpos 2760
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N5164d000 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N5164cc00 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N5164c400 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N5164c400
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N5168d800 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N5168d400 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N5168d000 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N5168cc00 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N5168c400 [stack 0]
push $N5164cc00
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N5168c000 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N516b3800 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N5168c400
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N5164d000
push $N5168d000
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N516dfc00 [stack 0]
push $N5168c000
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N516dfc00
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N5168d800
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N516de000 [stack 0]
push $N5168d400
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N5168d800
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N51706c00 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N51706800 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N51706400 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N51706400
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N51706800
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N51706c00
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N516de000
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N5168cc00
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N51748400 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N51748400
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N5176d000 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N5176cc00 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N5176c800 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N5176c800
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N5176cc00
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N51793400 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 54 46 55 56 53 55 55 48 44 32 57 46 50 51 48 54 55 48 44 32 57 46 49 52 54 56 51 48 44 32 56 46 57 50 50 49 52 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 55 53 54 49 48 44 32 48 46 48 56 55 57 51 54 44 32 48 46 48 56 56 54 51 48 44 32 48 46 49 48 54 53 56 57 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 175 16 176 16 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N51793400
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N516b3800
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N5176d000
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N54e13c00 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N54e13800 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N54e13400 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.07561037847 0.07586281512 0.07750440277 0.1302057693 0.6984837888 0.6665860703 0.6498595557 0.9607640333 2.308883599 2.420725058 1.935293877 1.955401039 1.910362331 1.888699471 1.981893888 2.031144229 1.905985115 0.7829715364 0.1578090626 0.08840108202 0.0700659152 1.33637923 9.746996143 22.43060382 19.12226183 21.19320721 22.306891 11.35613927 0.0492984699 0.04149740409 0.04419638992} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 559 479 376 258 153 48 186 298 317 390 446 511 561 621 449 450 451 638 581 509 318 173 180 15 0 126 127} {curve 208 206 208 365 375 379 386 363 360 359 359 326 303 302 315 365 340 309 210 209 206 243 300 286 274 269 219 189 286 172 174}}
  maxlumapixvalue {{curve 6.785771847 7.673930168 7.109609604 271.1793213 243.2151947 238.2873077 238.824646 238.824646 238.8246307 238.824646 74.32302856 74.32302856 74.32302856 74.32302856 74.32302856 74.32303619 74.32302856 74.32302856 7.66601181 7.960818768 7.346301556 209.1515808 209.1516113 209.1516113 209.1516266 209.1516266 209.1516113 209.1515808 145.8791199 6.645498753 6.47850132} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N54e13800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.08863026999 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 385 253 166 620 581 468 387 333 230 202 52 63 27 1 451 638 581 509 318 173 180 28 0 131 130} {curve 208 206 210 376 360 361 368 375 363 280 263 287 276 281 280 283 286 270 304 302 206 243 300 286 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 9.146829605}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N54e13400
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.08793573989 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 471 380 4 46 138 195 293 334 409 526 518 568 627 14 3 451 638 581 509 318 173 180 28 0 131 130} {curve 208 206 210 369 386 385 374 305 379 303 306 328 298 337 333 305 313 318 273 303 206 231 300 286 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 9.23067379 10.09394646 9.569980621 192.4135437 172.5717621 169.0752106 169.4564819 242.788559 242.788559 242.7885437 242.788559 242.7885895 242.788559 242.788559 242.788559 242.788559 242.788559 242.7885437 116.9348907 116.9348907 8.847726822 209.1515656 209.1516113 209.1516113 209.1516266 209.1516266 209.1516113 209.1515961 145.8791199 7.487065792 7.656638622} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N54e13c00
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1065893378 0.1067337594 0.1076260718 0.142804769 0.552113891 0.5306591124 0.5254195526 1.309863577 4.768786621 6.133715253 8.026857762 8.219640087 7.843974646 7.477174331 8.160806595 8.313838531 8.126118313 4.48829151 1.205385981 0.205372595 0.1052088905 1.370957326 9.781566739 22.46515101 19.15678583 21.22780807 22.34144198 11.39068707 0.08382839007 0.07601420934 0.07868472274} {curve 0.1067927639 0.1068670991 0.1071804245 0.1083729694 0.1117434984 0.112872535 0.1121916122 0.1150109247 0.1173414723 0.1192906733 0.1228316173 0.1210519099 0.1232194936 0.1217373045 0.1203601954 0.1195771571 0.1178950803 0.1103067183 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180457 0.1366236467 0.1333417908 0.1374148063 0.1419934645 0.1263821618 0.1058540173 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044976 0.1384553041 0.1396093968 0.1392839798 0.1440623685 0.1515584623 0.1522998961 0.1549188956 0.1523158973 0.1511703074 0.148330574 0.151288286 0.1490262142 0.1453204489 0.1329040912 0.12326476 0.1201250677 0.1192940672 0.1202657776 0.1324649972 0.1535624773 0.1517573717 0.1606333867 0.1654206736 0.1526844438 0.1360713486 0.1353951109 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 637 568 481 380 4 38 138 195 293 334 370 526 578 585 627 14 3 451 638 558 535 318 173 180 28 0 131 130} {curve 208 206 210 369 360 362 374 305 296 303 306 328 298 346 333 324 313 318 273 303 206 231 271 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 8.922139168 9.789855003 9.253680229 196.8987274 176.5944061 173.0163727 173.4065399 190.0118408 190.0118408 190.0118408 190.0118561 190.0118713 190.0118408 190.0118561 190.0118561 190.0118561 190.0118561 190.0118408 103.3434753 103.3434753 8.378767014 209.1515656 209.1515808 209.1515808 209.1516266 209.1516266 209.1515961 209.1515808 145.8791046 7.299843311 7.501604557} {curve 0.2764213383 0.2795732617 0.2769901454 0.4283786118 0.4283786714 0.4283786714 0.4283786416 0.342826277 0.3428262472 0.3428262472 0.342826277 0.3428262174 0.3428262472 0.3428262472 0.342826277 0.342826277 0.342826277 0.3428262472 0.2015735805 0.2015735656 0.3165230751 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.312713027 0.2848427892 0.2899614871} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-010_Bins.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read16
 xpos 2600
 ypos -364
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-010_Raw.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read14
 xpos 2440
 ypos -364
}
Group {
 name VRayKerneler12
 label "\[value viewPD]\n"
 xpos 2440
 ypos -256
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N54e50c00 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N54e50800 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N54e50000 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N54e50000
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N54e8b400 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N54e8b000 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N54e8ac00 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N54e8a800 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N54e8a000 [stack 0]
push $N54e50800
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N54eb3c00 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N54eb3400 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N54e8a000
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N54e50c00
push $N54e8ac00
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N54ed7800 [stack 0]
push $N54eb3c00
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N54ed7800
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N54e8b400
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N54f05c00 [stack 0]
push $N54e8b000
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N54e8b400
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N54f04800 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N54f04400 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N54f04000 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N54f04000
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N54f04400
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N54f04800
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N54f05c00
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N54e8a800
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N54f44000 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N54f44000
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N54f70c00 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N54f70800 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N54f70400 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N54f70400
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N54f70800
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N54f9b000 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 48 46 54 51 53 54 54 52 44 32 48 46 56 54 52 54 57 51 44 32 49 46 51 49 49 57 57 48 44 32 48 46 56 51 53 55 57 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 48 55 48 56 51 44 32 48 46 48 49 50 54 49 51 44 32 48 46 48 49 50 55 49 51 44 32 48 46 48 48 57 57 56 53 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 163 15 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 174 16 175 16 176 16 174 1000 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N54f9b000
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N54eb3400
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N54f70c00
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N54fdf800 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N54fdf400 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 62
 }
set N54fdf000 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.007082877929 0.007131482341 0.007432321687 0.0136135661 0.08142615256 0.07931468701 0.07715047937 0.1140606531 0.274107648 0.2873853201 0.2297555627 0.2321426589 0.2267957222 0.2242239357 0.2352878552 0.2411347915 0.2262760649 0.09295335889 0.01873488607 0.01049486121 0.01005002166 0.1916857883 1.398076681 3.217371144 2.742833583 3.039883094 3.19962619 1.628886815 0.007071208431 0.005952249513 0.006339383056} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 568 468 376 258 153 48 186 298 317 390 446 511 561 621 449 450 451 633 558 535 318 173 180 28 0 126 127} {curve 208 206 208 365 360 364 386 363 360 359 359 326 303 302 315 365 340 309 210 209 206 274 271 229 274 269 219 211 286 172 174}}
  maxlumapixvalue {{curve 0.6356639862 0.7213876247 0.6817793846 28.35294914 28.35295105 28.35295105 28.35295105 28.35295105 28.35294914 28.35295105 8.823533058 8.823533058 8.823533058 8.823533058 8.823533058 8.823534012 8.823533058 8.823533058 0.9100989103 0.9450980425 1.053729057 30.00000763 30.00000954 30.00000954 30.00001335 30.00001335 30.00001144 30.00000954 20.92441559 0.9532082081 0.9292546511} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N54fdf000
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.01261320983 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 471 380 4 46 138 195 293 334 409 526 518 568 627 14 3 451 633 581 509 318 173 180 10 0 131 130} {curve 208 206 210 369 386 385 374 305 379 303 306 328 298 337 333 305 313 318 273 303 206 274 300 286 274 269 219 196 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0.8646925688 0.9488812685 0.9177178741 20.11765289 20.11765289 20.11765289 20.11765289 28.82354164 28.82354164 28.82353973 28.82354164 28.82354546 28.82354164 28.82354164 28.82354164 28.82354164 28.82354164 28.82353973 13.8823576 13.8823576 1.269088507 30.00000763 30.00001144 30.00001144 30.00001335 30.00001335 30.00001144 30.00000763 20.92441559 1.073919773 1.09824276} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 133
 }
push $N54fdf400
 CurveTool {
  operation "Max Luma Pixel"
  color 0.0025
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.01271283091 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 385 253 166 600 580 536 426 351 273 202 95 3 13 1 451 633 581 509 318 173 180 10 0 131 130} {curve 208 206 210 376 360 361 368 375 363 342 262 345 259 266 262 283 352 267 284 302 206 274 300 286 274 269 219 196 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 1.311990857}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N54fdf800
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.009984862967 0.01003350481 0.01032085351 0.01493084501 0.06436299506 0.06314122177 0.06237712189 0.155505299 0.56614416 0.7281867046 0.9529381111 0.9758249772 0.9312264668 0.8876804119 0.968840342 0.9870080951 0.9647221933 0.532844119 0.1431018498 0.0243815666 0.01509081305 0.1966455543 1.403035367 3.222326469 2.747785581 3.044846115 3.204582056 1.633842231 0.01202406521 0.01090322516 0.01128627472} {curve 0.1067927639 0.1068670991 0.1071804244 0.1083729695 0.1117434983 0.112872535 0.1121916123 0.1150109247 0.1173414717 0.1192906726 0.1228316165 0.1210519091 0.1232194929 0.1217373038 0.1203601946 0.1195771563 0.1178950796 0.1103067181 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180454 0.1366236459 0.1333417901 0.1374148056 0.1419934637 0.1263821614 0.1058540174 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044976 0.1384553041 0.1396093968 0.1392839799 0.1440623685 0.1515584626 0.1522998963 0.1549188956 0.1523158973 0.1511703074 0.1483305741 0.151288286 0.1490262142 0.1453204489 0.1329040911 0.1232647599 0.1201250676 0.1192940672 0.1202657776 0.1324649971 0.153562477 0.1517573715 0.1606333864 0.1654206733 0.1526844437 0.1360713486 0.1353951108 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 639 580 478 375 4 38 138 205 293 334 425 456 544 598 627 14 3 451 633 581 509 318 173 180 10 0 128 130} {curve 208 206 210 365 386 369 359 305 296 303 301 328 298 301 304 298 300 318 273 303 206 274 300 286 274 269 219 196 286 177 183}}
  maxlumapixvalue {{curve 0.8357903957 0.9202951789 0.8873860836 20.58659554 20.58659935 20.58659935 20.58659554 22.5579586 22.5579586 22.5579586 22.5579586 22.55796242 22.5579586 22.5579586 22.5579586 22.5579586 22.5579586 22.5579586 12.26880264 12.26880264 1.201822519 30.00000572 30.00001144 30.00001144 30.00001335 30.00001335 30.00001144 30.00000572 20.92441559 1.03361702 1.07600522} {curve 0.2764213383 0.2795732319 0.2769901454 0.4283786714 0.4283786416 0.4283786416 0.4283786416 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262174 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.2015735656 0.2015735656 0.3165231049 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.2979178131 0.2899614871} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 136
 }
end_group
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet3
 xpos 2760
 ypos -82
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 6
 in_colorspace linear
 out_colorspace linear
 name Write4
 xpos 2760
 ypos -16
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-012_Unweighted.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read20
 xpos 3880
 ypos -364
}
Group {
 name VRayKerneler13
 label "\[value viewPD]\n"
 xpos 3880
 ypos -256
 disable true
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N5502c400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N5502c000 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N5507f800 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N5507f800
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N5507ec00 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N5507e800 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N5507e400 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N5507e000 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N5509f800 [stack 0]
push $N5502c000
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N5509f400 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N5509ec00 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N5509f800
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N5502c400
push $N5507e400
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N550c7000 [stack 0]
push $N5509f400
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N550c7000
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N5507ec00
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N550f7400 [stack 0]
push $N5507e800
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N5507ec00
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N550f6000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N55117c00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N55117800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N55117800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N55117c00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N550f6000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N550f7400
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N5507e000
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N5515b800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N5515b800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N5515a400 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N5515a000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N55181c00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N55181c00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N5515a000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N55180800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 56 46 52 52 54 48 52 48 44 32 57 46 57 56 49 57 56 48 44 32 49 49 46 57 50 52 55 48 48 44 32 57 46 55 55 57 56 54 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 53 55 54 49 57 44 32 48 46 49 49 52 54 52 50 44 32 48 46 49 49 53 53 52 56 44 32 48 46 49 48 50 53 56 49 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 112 115 122 138 145 148 155 158 165 168 175}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 175 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 165 15 166 15 167 15 168 15 169 15 170 15 171 15 172 15 173 16 174 16 173 16 176 16 177 16 176 1000 177 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N55180800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N5509ec00
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N5515a400
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N551cb000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N551cac00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N551ca800 [stack 0]
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.1146420503 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 481 380 4 38 138 189 293 334 425 526 518 568 625 14 1 451 638 581 535 318 173 180 28 0 131 130} {curve 208 206 210 369 386 361 374 305 296 303 296 328 298 301 333 305 313 306 273 296 206 243 300 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 9.05201149 9.907381058 9.388558388 144.8435364 33.77006149 34.45022202 34.92863846 23.09996223 7.134712219 4.721576691 3.184357405 3.101528883 3.26683712 3.461484194 3.151943207 3.112937927 3.114575148 4.699914455 6.989911556 49.38996887 8.711006165 16.14933205 2.5121665 1.255357981 1.422858357 1.312162042 1.262157798 2.198611736 179.2807617 10.07856846 9.98197937} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N551cb000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1045262728 0.10476101 0.105585752 0.1074994399 0.1080415409 0.1081254044 0.1083003023 0.1246261384 0.1401380852 0.1192840751 0.1052783851 0.105002672 0.1055444637 0.1066035479 0.1059456811 0.1065967144 0.1042446381 0.08688460682 0.07205327137 0.08674354714 0.1035831369 0.1058564594 0.1174885634 0.1348390632 0.1303235936 0.1331776583 0.1348228882 0.1197394411 0.1030224069 0.102325055 0.1025814755} {curve 0.1067927639 0.1068670991 0.1071804244 0.1083729694 0.1117434984 0.112872535 0.1121916123 0.1150109246 0.1173414717 0.119290673 0.1228316167 0.1210519099 0.1232194935 0.121737304 0.1203601951 0.1195771566 0.1178950798 0.1103067181 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180462 0.1366236466 0.1333417921 0.1374148059 0.1419934646 0.1263821623 0.1058540173 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044975 0.138455304 0.1396093968 0.1392839799 0.1440623685 0.1515584619 0.1522998962 0.1549188957 0.1523158975 0.1511703076 0.148330573 0.1512882854 0.1490262144 0.1453204479 0.1329040915 0.12326476 0.1201250676 0.1192940672 0.1202657777 0.1324649971 0.153562477 0.1517573724 0.1606333868 0.1654206721 0.152684443 0.1360713486 0.1353951108 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 639 576 478 377 4 38 138 189 293 334 417 484 544 603 635 7 3 451 638 581 535 465 287 180 28 0 131 130} {curve 208 206 210 365 360 369 361 305 296 303 296 328 298 301 299 298 309 300 271 303 206 231 300 229 202 189 219 211 286 185 183}}
  maxlumapixvalue {{curve 8.749448776 9.608909607 9.0782547 148.2198486 34.55724335 35.25326538 35.74282837 18.07855606 5.583788395 3.695213318 2.492150784 2.427326918 2.556700945 2.709036112 2.466782093 2.436255932 2.437537432 3.678259611 6.177468777 43.64934158 8.249293327 16.14933014 2.5121665 1.255357862 1.422858 1.312161803 1.262157798 2.198611498 179.2807465 9.826542854 9.77986145} {curve 0.2764213383 0.2795732319 0.2769901454 0.4283786714 0.4283786714 0.4283786416 0.4283786714 0.3428262174 0.3428262174 0.3428262174 0.3428262174 0.3428262472 0.3428262174 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.2015735954 0.2015735805 0.3165230751 0.3127129972 0.3127129972 0.312713027 0.312713027 0.3127129972 0.312713027 0.3127129972 0.3127129972 0.2848427594 0.2899615169} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
push $N551cac00
 CurveTool {
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.115547511 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 376 253 166 600 581 536 426 333 230 202 52 63 13 1 451 638 581 535 318 173 180 28 0 131 130} {curve 208 206 210 376 360 361 359 375 363 342 263 345 259 281 280 283 286 270 284 302 206 243 300 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 11.92474556}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N551ca800
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.07414691946 0.07446065037 0.07603511409 0.09801526478 0.1366842372 0.135821444 0.1339500776 0.09141128089 0.06785006821 0.04707651638 0.02538285961 0.02497947943 0.0257048458 0.02692756089 0.02572945345 0.02604251896 0.02445063161 0.01515680784 0.009433210405 0.03733810487 0.0689832129 0.1031865596 0.117073332 0.1346317044 0.1300887279 0.1329605812 0.1346143915 0.1193762804 0.06058624083 0.05586092642 0.05761894724} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 568 479 376 254 153 48 186 298 317 390 446 511 561 621 449 450 451 638 581 538 318 173 180 28 0 126 127} {curve 208 206 208 365 360 379 386 375 360 359 359 326 303 302 315 365 340 309 210 209 206 243 300 193 274 269 219 211 286 172 174}}
  maxlumapixvalue {{curve 6.654431343 7.532093525 6.974829197 204.1362152 47.59406281 48.5526619 49.22691345 22.72282028 7.018226624 4.644489765 0.9748033881 0.9494475126 1.000052214 1.059638023 0.9648805857 0.9529402256 0.9534413815 1.438749433 0.4582442939 3.362423658 7.232781887 16.14933205 2.5121665 1.255357862 1.422858357 1.312162042 1.262157798 2.198611736 179.2807617 8.945709229 8.446038246} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-012_Histogram.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read18
 xpos 3720
 ypos -364
}
Group {
 name VRayKerneler14
 label "\[value viewPD]\n"
 xpos 3720
 ypos -256
 disable true
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N5521c400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N5521c000 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N55261800 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N55261800
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N55260c00 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N55260800 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N55260400 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N55260000 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N55281800 [stack 0]
push $N5521c000
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N55281400 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N55280c00 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N55281800
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N5521c400
push $N55260400
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N552a9000 [stack 0]
push $N55281400
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N552a9000
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N55260c00
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N552d7400 [stack 0]
push $N55260800
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N55260c00
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N552d6000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N552fdc00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N552fd800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N552fd800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N552fdc00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N552d6000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N552d7400
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N55260000
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N5533f800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N5533f800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N5533e400 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N5533e000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N5536dc00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N5536dc00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N5533e000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N5536c800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 54 46 52 55 56 53 48 48 44 32 55 46 54 53 54 54 52 48 44 32 57 46 49 52 54 56 51 48 44 32 55 46 53 48 49 54 48 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 52 52 49 57 54 44 32 48 46 48 56 55 57 51 54 44 32 48 46 48 56 56 54 51 48 44 32 48 46 48 55 56 54 56 53 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 175 16 176 16 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N5536c800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N55280c00
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N5533e400
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N553ab000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N553aac00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N553aa800 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.07561037847 0.07586281512 0.07750440277 0.1302057693 0.6984837888 0.6665860703 0.6498595557 0.9607640333 2.308883599 2.420725058 1.935293877 1.955401039 1.910362331 1.888699471 1.981893888 2.031144229 1.905985115 0.7829715364 0.1578090626 0.08840108202 0.0700659152 1.33637923 9.746996143 22.43060382 19.12226183 21.19320721 22.306891 11.35613927 0.0492984699 0.04149740409 0.04419638992} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 559 479 376 258 153 48 186 298 317 390 446 511 561 621 449 450 451 638 581 509 318 173 180 15 0 126 127} {curve 208 206 208 365 375 379 386 363 360 359 359 326 303 302 315 365 340 309 210 209 206 243 300 286 274 269 219 189 286 172 174}}
  maxlumapixvalue {{curve 6.785771847 7.673930168 7.109609604 271.1793213 243.2151947 238.2873077 238.824646 238.824646 238.8246307 238.824646 74.32302856 74.32302856 74.32302856 74.32302856 74.32302856 74.32303619 74.32302856 74.32302856 7.66601181 7.960818768 7.346301556 209.1515808 209.1516113 209.1516113 209.1516266 209.1516266 209.1516113 209.1515808 145.8791199 6.645498753 6.47850132} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N553aac00
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.08863026999 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 385 253 166 620 581 468 387 333 230 202 52 63 27 1 451 638 581 509 318 173 180 28 0 131 130} {curve 208 206 210 376 360 361 368 375 363 280 263 287 276 281 280 283 286 270 304 302 206 243 300 286 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 9.146829605}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N553aa800
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.08793573989 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 471 380 4 46 138 195 293 334 409 526 518 568 627 14 3 451 638 581 509 318 173 180 28 0 131 130} {curve 208 206 210 369 386 385 374 305 379 303 306 328 298 337 333 305 313 318 273 303 206 231 300 286 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 9.23067379 10.09394646 9.569980621 192.4135437 172.5717621 169.0752106 169.4564819 242.788559 242.788559 242.7885437 242.788559 242.7885895 242.788559 242.788559 242.788559 242.788559 242.788559 242.7885437 116.9348907 116.9348907 8.847726822 209.1515656 209.1516113 209.1516113 209.1516266 209.1516266 209.1516113 209.1515961 145.8791199 7.487065792 7.656638622} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N553ab000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.1065893378 0.1067337594 0.1076260718 0.142804769 0.552113891 0.5306591124 0.5254195526 1.309863577 4.768786621 6.133715253 8.026857762 8.219640087 7.843974646 7.477174331 8.160806595 8.313838531 8.126118313 4.48829151 1.205385981 0.205372595 0.1052088905 1.370957326 9.781566739 22.46515101 19.15678583 21.22780807 22.34144198 11.39068707 0.08382839007 0.07601420934 0.07868472274} {curve 0.1067927639 0.1068670991 0.1071804245 0.1083729694 0.1117434984 0.112872535 0.1121916122 0.1150109247 0.1173414723 0.1192906733 0.1228316173 0.1210519099 0.1232194936 0.1217373045 0.1203601954 0.1195771571 0.1178950803 0.1103067183 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180457 0.1366236467 0.1333417908 0.1374148063 0.1419934645 0.1263821618 0.1058540173 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044976 0.1384553041 0.1396093968 0.1392839798 0.1440623685 0.1515584623 0.1522998961 0.1549188956 0.1523158973 0.1511703074 0.148330574 0.151288286 0.1490262142 0.1453204489 0.1329040912 0.12326476 0.1201250677 0.1192940672 0.1202657776 0.1324649972 0.1535624773 0.1517573717 0.1606333867 0.1654206736 0.1526844438 0.1360713486 0.1353951109 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 637 568 481 380 4 38 138 195 293 334 370 526 578 585 627 14 3 451 638 558 535 318 173 180 28 0 131 130} {curve 208 206 210 369 360 362 374 305 296 303 306 328 298 346 333 324 313 318 273 303 206 231 271 229 274 269 219 211 286 185 183}}
  maxlumapixvalue {{curve 8.922139168 9.789855003 9.253680229 196.8987274 176.5944061 173.0163727 173.4065399 190.0118408 190.0118408 190.0118408 190.0118561 190.0118713 190.0118408 190.0118561 190.0118561 190.0118561 190.0118561 190.0118408 103.3434753 103.3434753 8.378767014 209.1515656 209.1515808 209.1515808 209.1516266 209.1516266 209.1515961 209.1515808 145.8791046 7.299843311 7.501604557} {curve 0.2764213383 0.2795732617 0.2769901454 0.4283786118 0.4283786714 0.4283786714 0.4283786416 0.342826277 0.3428262472 0.3428262472 0.342826277 0.3428262174 0.3428262472 0.3428262472 0.342826277 0.342826277 0.342826277 0.3428262472 0.2015735805 0.2015735656 0.3165230751 0.3127129972 0.312713027 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.312713027 0.2848427892 0.2899614871} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 134
 }
end_group
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-012_Bins.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read17
 xpos 3560
 ypos -364
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/exp-012_Raw.#.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 30
 origfirst 0
 origlast 30
 origset true
 name Read19
 xpos 3400
 ypos -358
}
Group {
 name VRayKerneler15
 label "\[value viewPD]\n"
 xpos 3400
 ypos -256
 disable true
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -773
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -370
 }
set N553ee000 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -334
 }
set N55441c00 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -773
 }
 Dot {
  name Dot25
  xpos 311
  ypos -694
 }
set N55441400 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -695
 }
 Dot {
  name Dot26
  xpos 231
  ypos -658
 }
push $N55441400
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -659
 }
 Dot {
  name Dot2
  xpos 311
  ypos -586
 }
set N55440800 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -442
 }
set N55440400 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -370
 }
set N55440000 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -334
 }
set N55463c00 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -335
 }
 Dot {
  name Dot43
  xpos 871
  ypos -262
 }
set N55463400 [stack 0]
push $N55441c00
 Dot {
  name Dot40
  xpos 1031
  ypos -298
 }
set N55463000 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -263
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -227
 }
set N55462800 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -82
 }
push $N55463400
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -227
 }
 Dot {
  name Dot42
  xpos 871
  ypos -118
 }
push $N553ee000
push $N55440000
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -371
 }
 Dot {
  name Dot39
  xpos 471
  ypos -298
 }
set N5548ec00 [stack 0]
push $N55463000
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -299
 }
 Dot {
  name Dot41
  xpos 551
  ypos -226
 }
push $N5548ec00
 Dot {
  name Dot16
  xpos 471
  ypos -262
 }
push $N55440800
 Dot {
  name Dot8
  xpos 471
  ypos -586
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -551
 }
 Dot {
  name Dot14
  xpos 471
  ypos -514
 }
set N554b9000 [stack 0]
push $N55440400
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -443
 }
 Dot {
  name Dot15
  xpos 471
  ypos -406
 }
 Dot {
  name Dot19
  xpos 711
  ypos -406
 }
 Dot {
  name Dot20
  xpos 711
  ypos -190
 }
push $N55440800
 Dot {
  name Dot7
  xpos 231
  ypos -586
 }
set N554ddc00 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -586
 }
set N554dd800 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -586
 }
set N554dd400 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -586
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -443
 }
 Dot {
  name Dot21
  xpos -9
  ypos -154
 }
push $N554dd400
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -551
 }
 Dot {
  name Dot22
  xpos 71
  ypos -190
 }
push $N554dd800
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -479
 }
 Dot {
  name Dot23
  xpos 151
  ypos -226
 }
push $N554ddc00
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -551
 }
 Dot {
  name Dot24
  xpos 231
  ypos -226
 }
push $N554b9000
 Dot {
  name Dot17
  xpos 791
  ypos -514
 }
 Dot {
  name Dot18
  xpos 791
  ypos -154
 }
push $N55463c00
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -83
 }
 Dot {
  name Dot27
  xpos 311
  ypos -46
 }
set N55523400 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -46
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -11
 }
 Dot {
  name Dot29
  xpos 231
  ypos 26
 }
push $N55523400
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 25
 }
 Dot {
  name Dot5
  xpos 311
  ypos 62
 }
set N55522000 [stack 0]
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N55549c00 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N55549800 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N55549800
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N55549c00
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N55548400 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 112 97 115 115 45 116 104 114 111 117 103 104 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 10 109 97 120 32 40 82 71 66 86 41 58 32 32 48 46 57 50 57 50 53 53 44 32 49 46 48 57 56 50 52 48 44 32 49 46 51 49 49 57 57 48 44 32 49 46 48 55 54 48 49 48 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 48 54 51 51 57 44 32 48 46 48 49 50 54 49 51 44 32 48 46 48 49 50 55 49 51 44 32 48 46 48 49 49 50 56 54 10 10}
    }
  old_expression_markers {{6 17 32 39 42 49 52 59 62 69 84 91 94 101 104 111 114 121 137 144 147 154 157 164 167 174}
    }
  box {8 0 640 472}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 5 14 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 19 20 20 20 21 20 29 20 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 163 15 164 15 165 15 166 15 167 15 168 15 169 15 170 15 171 15 174 16 175 16 176 16 174 1000 175 1000 176 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N55548400
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N55462800
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
push $N55522000
 Dot {
  name Dot30
  xpos 231
  ypos 62
 }
set N5557ec00 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 62
 }
set N5557e800 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 62
 }
set N5557e400 [stack 0]
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.007082877929 0.007131482341 0.007432321687 0.0136135661 0.08142615256 0.07931468701 0.07715047937 0.1140606531 0.274107648 0.2873853201 0.2297555627 0.2321426589 0.2267957222 0.2242239357 0.2352878552 0.2411347915 0.2262760649 0.09295335889 0.01873488607 0.01049486121 0.01005002166 0.1916857883 1.398076681 3.217371144 2.742833583 3.039883094 3.19962619 1.628886815 0.007071208431 0.005952249513 0.006339383056} 0 0 0}
  maxlumapixdata {{curve 450 451 450 639 568 468 376 258 153 48 186 298 317 390 446 511 561 621 449 450 451 633 558 535 318 173 180 28 0 126 127} {curve 208 206 208 365 360 364 386 363 360 359 359 326 303 302 315 365 340 309 210 209 206 274 271 229 274 269 219 211 286 172 174}}
  maxlumapixvalue {{curve 0.6356639862 0.7213876247 0.6817793846 28.35294914 28.35295105 28.35295105 28.35295105 28.35295105 28.35294914 28.35295105 8.823533058 8.823533058 8.823533058 8.823533058 8.823533058 8.823534012 8.823533058 8.823533058 0.9100989103 0.9450980425 1.053729057 30.00000763 30.00000954 30.00000954 30.00001335 30.00001335 30.00001144 30.00000954 20.92441559 0.9532082081 0.9292546511} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N5557e400
 CurveTool {
  operation "Max Luma Pixel"
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0.01261320983 0 0}
  maxlumapixdata {{curve 450 451 449 637 580 471 380 4 46 138 195 293 334 409 526 518 568 627 14 3 451 633 581 509 318 173 180 10 0 131 130} {curve 208 206 210 369 386 385 374 305 379 303 306 328 298 337 333 305 313 318 273 303 206 274 300 286 274 269 219 196 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0.8646925688 0.9488812685 0.9177178741 20.11765289 20.11765289 20.11765289 20.11765289 28.82354164 28.82354164 28.82353973 28.82354164 28.82354546 28.82354164 28.82354164 28.82354164 28.82354164 28.82354164 28.82353973 13.8823576 13.8823576 1.269088507 30.00000763 30.00001144 30.00001144 30.00001335 30.00001335 30.00001144 30.00000763 20.92441559 1.073919773 1.09824276} 0}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 133
 }
push $N5557e800
 CurveTool {
  operation "Max Luma Pixel"
  color 0.0025
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve} 0 0.01271283091 0}
  maxlumapixdata {{curve 450 451 449 637 576 486 385 253 166 600 580 536 426 351 273 202 95 3 13 1 451 633 581 509 318 173 180 10 0 131 130} {curve 208 206 210 376 360 361 368 375 363 342 262 345 259 266 262 283 352 267 284 302 206 274 300 286 274 269 219 196 286 185 183}}
  maxlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 1.311990857}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N5557ec00
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  operation "Max Luma Pixel"
  ROI {0 0 640 480}
  autocropdata {0 0 640 480}
  intensitydata {{curve 0.009984862967 0.01003350481 0.01032085351 0.01493084501 0.06436299506 0.06314122177 0.06237712189 0.155505299 0.56614416 0.7281867046 0.9529381111 0.9758249772 0.9312264668 0.8876804119 0.968840342 0.9870080951 0.9647221933 0.532844119 0.1431018498 0.0243815666 0.01509081305 0.1966455543 1.403035367 3.222326469 2.747785581 3.044846115 3.204582056 1.633842231 0.01202406521 0.01090322516 0.01128627472} {curve 0.1067927639 0.1068670991 0.1071804244 0.1083729695 0.1117434983 0.112872535 0.1121916123 0.1150109247 0.1173414717 0.1192906726 0.1228316165 0.1210519091 0.1232194929 0.1217373038 0.1203601946 0.1195771563 0.1178950796 0.1103067181 0.1040006305 0.1022838714 0.1022003582 0.1042721002 0.1171180454 0.1366236459 0.1333417901 0.1374148056 0.1419934637 0.1263821614 0.1058540174 0.105702146 0.1059159009} {curve 0.1321621478 0.1323548891 0.1329095788 0.1346044976 0.1384553041 0.1396093968 0.1392839799 0.1440623685 0.1515584626 0.1522998963 0.1549188956 0.1523158973 0.1511703074 0.1483305741 0.151288286 0.1490262142 0.1453204489 0.1329040911 0.1232647599 0.1201250676 0.1192940672 0.1202657776 0.1324649971 0.153562477 0.1517573715 0.1606333864 0.1654206733 0.1526844437 0.1360713486 0.1353951108 0.1349634961} 0}
  maxlumapixdata {{curve 450 451 449 639 580 478 375 4 38 138 205 293 334 425 456 544 598 627 14 3 451 633 581 509 318 173 180 10 0 128 130} {curve 208 206 210 365 386 369 359 305 296 303 301 328 298 301 304 298 300 318 273 303 206 274 300 286 274 269 219 196 286 177 183}}
  maxlumapixvalue {{curve 0.8357903957 0.9202951789 0.8873860836 20.58659554 20.58659935 20.58659935 20.58659554 22.5579586 22.5579586 22.5579586 22.5579586 22.55796242 22.5579586 22.5579586 22.5579586 22.5579586 22.5579586 22.5579586 12.26880264 12.26880264 1.201822519 30.00000572 30.00001144 30.00001144 30.00001335 30.00001335 30.00001144 30.00000572 20.92441559 1.03361702 1.07600522} {curve 0.2764213383 0.2795732319 0.2769901454 0.4283786714 0.4283786416 0.4283786416 0.4283786416 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262174 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.3428262472 0.2015735656 0.2015735656 0.3165231049 0.312713027 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.3127129972 0.312713027 0.3127129972 0.2979178131 0.2899614871} 0.3091111183}
  minlumapixdata {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}}
  minlumapixvalue {{curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} {curve 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0} 0}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  selected true
  xpos 200
  ypos 136
 }
end_group
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet4
 xpos 3720
 ypos -82
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 7
 in_colorspace linear
 out_colorspace linear
 name Write5
 xpos 3714
 ypos -16
}
ContactSheet {
 inputs 0
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet5
 xpos 4719
 ypos -101
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 7
 in_colorspace linear
 out_colorspace linear
 name Write6
 xpos 4713
 ypos -35
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/TS_indoor_to_out01_Bins.#.exr
 format "320 240 0 0 320 240 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read21
 xpos 4482
 ypos -299
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/TS_indoor_to_out01_Unweighted.#.exr
 format "320 240 0 0 320 240 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read24
 xpos 4882
 ypos -309
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/TS_indoor_to_out01_Raw.#.exr
 format "320 240 0 0 320 240 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read23
 xpos 4699
 ypos -428
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/TS_indoor_to_out01_Histogram.#.exr
 format "320 240 0 0 320 240 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read22
 xpos 4549
 ypos -418
}
Read {
 inputs 0
 file C:/Users/Lele/Documents/3dsMax/scenes/exposimeter_renders/TS_indoor_to_out03_Histogram.#.exr
 format "320 240 0 0 320 240 1 "
 first 0
 last 29
 origfirst 0
 origlast 29
 origset true
 name Read25
 xpos 5320
 ypos -328
}
Read {
 inputs 0
 file D:/_Clients/JiriMatis_Sampling/raw.exr
 format "1920 1080 0 0 1920 1080 1 HD_1080"
 origset true
 name Read27
 xpos 6611
 ypos -668
}
Crop {
 box {565.0999756 255.75 865.1500244 477}
 reformat true
 name Crop2
 xpos 6611
 ypos -570
}
set N565f8000 [stack 0]
Group {
 name VRayKerneler17
 label "\[value viewPD]\n"
 xpos 6611
 ypos -508
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 viewPD "Noise Threshold (Abs)"
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N56675800 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N56675400 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N56674c00 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N56674c00
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N56674000 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N56693c00 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N56693800 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N56693400 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N56692c00 [stack 0]
push $N56675400
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N56692800 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N56692000 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N56692c00
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N56675800
push $N56693800
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N566b6400 [stack 0]
push $N56692800
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N566b6400
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N56674000
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N566ea800 [stack 0]
push $N56693c00
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N56674000
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N5670f400 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N5670f000 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N5670ec00 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N5670ec00
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N5670f000
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N5670f400
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N566ea800
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N56693400
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N5674cc00 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N5674cc00
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N56777800 [stack 0]
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N56777400 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N56777000 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N56776c00 [stack 0]
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve} 0.001866977508 0 0}
  maxlumapixdata {{curve x1 289} {curve x1 206}}
  maxlumapixvalue {{curve x1 0} {curve x1 0.08591037989} 0}
  minlumapixdata {{curve x1 72} {curve x1 3}}
  minlumapixvalue {{curve x1 0} {curve x1 0} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N56777000
 CurveTool {
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve} 0 0.002022653829 0}
  maxlumapixdata {{curve x1 289} {curve x1 206}}
  maxlumapixvalue {{curve x1 0} {curve x1 0} 0.1717800498}
  minlumapixdata {{curve x1 136} {curve x1 3}}
  minlumapixvalue {{curve x1 0} {curve x1 0} 0}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N56776c00
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve x1 0.001896005556} 0 0 0}
  maxlumapixdata {{curve x1 7} {curve x1 17}}
  maxlumapixvalue {{curve x1 0.1285400391} {curve x1 0} 0}
  minlumapixdata {{curve x1 260} {curve x1 4}}
  minlumapixvalue {{curve x1 0} {curve x1 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N56777400
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve x1 0.001884387159} {curve x1 0.3001355241} {curve x1 0.3102157487} 0}
  maxlumapixdata {{curve x1 97} {curve x1 108}}
  maxlumapixvalue {{curve x1 3.585481318e-005} {curve x1 0.6130720973} 0.3513838947}
  minlumapixdata {{curve x1 203} {curve x1 170}}
  minlumapixvalue {{curve x1 4.405610071e-006} {curve x1 0.150000006} 0.05999999493}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
push $N56777800
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N567af000 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N567aec00 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N567aec00
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N567af000
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N567fb800 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 78 111 105 115 101 32 84 104 114 101 115 104 111 108 100 32 40 65 98 115 41 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 52 10 109 97 120 32 40 82 71 66 86 41 58 32 32 48 46 49 50 56 53 52 48 44 32 48 46 48 56 53 57 49 48 44 32 48 46 49 55 49 55 56 48 44 32 48 46 48 48 48 48 51 54 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 48 49 56 57 54 44 32 48 46 48 48 49 56 54 55 44 32 48 46 48 48 50 48 50 51 44 32 48 46 48 48 49 56 56 52 10 10}
    }
  old_expression_markers {{6 26 41 48 51 58 61 68 71 78 93 100 103 110 113 120 123 130 146 153 156 163 166 173 176 183}
    }
  box {8 0 300 213}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 5 14 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 182 16 28 20 29 20 30 20 38 20 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 172 15 173 15 174 15 175 15 176 15 177 15 178 15 179 15 180 15 181 16 181 16 183 16 184 16 185 16 183 1000 184 1000 185 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N567fb800
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N56692000
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
end_group
push $N565f8000
Read {
 inputs 0
 file D:/_Clients/JiriMatis_Sampling/posted.exr
 format "1920 1080 0 0 1920 1080 1 HD_1080"
 origset true
 name Read26
 xpos 6471
 ypos -688
}
Crop {
 box {565.0999756 255.75 865.1500244 477}
 reformat true
 name Crop1
 xpos 6471
 ypos -586
}
set N5684bc00 [stack 0]
Group {
 name VRayKerneler16
 label "\[value viewPD]\n"
 xpos 6471
 ypos -544
 postage_stamp true
 addUserKnob {20 MainControlsTab l "Main Controls:" -STARTLINE}
 addUserKnob {20 OpModeGroup l "Operation Modes:" n 1}
 addUserKnob {4 viewPD l "View Mode:" -STARTLINE M {pass-through "Noise Threshold (Abs)" Average "Root Mean Square" Variance "Signal-to-Noise Ratio (Activate Nan Prot.!)" "Normalised Noise Threshold (Activate Nan Prot.!)" "Abs. Error Ratio (needs the reference input!)" "Normalised Error Ratio (needs the reference input!)" "Mean Square Error  (needs the reference input!)" "Normalised Mean Square Error  (needs the reference input!)" "" "" "" "" "" "" "" "" "" ""}}
 viewPD "Noise Threshold (Abs)"
 addUserKnob {6 PremultCkb l Premult. t "Premultiply Input?" -STARTLINE}
 addUserKnob {6 nanProtect l "NaN Prot." t "NaN Protection\nWARNING: may result in wrong data. Use only if you know what you are doing." -STARTLINE}
 addUserKnob {22 kernelerGo l "                                                      Analyse!                                                 " t "Click to measure!" T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('operation').setValue('Max Luma Pixel')\n  nuke.execute(i, 1, 1)\n  i.knob('operation').setValue('Avg Intensities')\n  nuke.execute(i, 1, 1)\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])\n" +STARTLINE}
 addUserKnob {20 endGroup_1 l endGroup n -1}
 addUserKnob {26 spacer2 l "" +STARTLINE}
 addUserKnob {20 OutputResultsGroup l "Output Results:" n 1}
 addUserKnob {19 Min l "Min (RGBV):"}
 Min {{valueMeasurerR.minlumapixvalue.r} {valueMeasurerG.minlumapixvalue.g} {valueMeasurerB.minlumapixvalue.b} {luminanceMeasurer.minlumapixvalue.r}}
 addUserKnob {6 Min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {6 min_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Max l "Max (RGBV):"}
 Max {{valueMeasurerR.maxlumapixvalue.r} {valueMeasurerG.maxlumapixvalue.g} {valueMeasurerB.maxlumapixvalue.b} {luminanceMeasurer.maxlumapixvalue.r}}
 addUserKnob {6 Max_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {19 Avg l "Avg (RGBV):"}
 Avg {{valueMeasurerR.intensitydata.r} {valueMeasurerG.intensitydata.g} {valueMeasurerB.intensitydata.b} {luminanceMeasurer.intensitydata.r}}
 addUserKnob {6 Avg_panelDropped l "panel dropped state" -STARTLINE +HIDDEN}
 addUserKnob {20 endGroup n -1}
 addUserKnob {26 spacer l "" +STARTLINE}
 addUserKnob {20 DisplayGroup l "Output Display Settings:" -STARTLINE n 1}
 addUserKnob {6 showText l "Stamp Results" -STARTLINE}
 showText true
 addUserKnob {68 autoNormaliseOutputMode l "Auto Normalise Mode:" M {none "Max value" "Average Value" ""}}
 addUserKnob {7 outputGainValue l "Additionally Multiply Output by:" t "For Display purposes only, gain the output by this amount.\nUseful to identify visually very small error values." R 0 10}
 outputGainValue 1
 addUserKnob {20 endGroup_2 l endGroup n -1}
 addUserKnob {26 ""}
 addUserKnob {20 resetGroup l "Lock/Reset Controls:" n 1}
 addUserKnob {22 locker l "Lock/UnLock Readouts" -STARTLINE T "if nuke.thisGroup().knob('Min').enabled():\n nuke.thisGroup().knob('Min').setEnabled(False)\n nuke.thisGroup().knob('Max').setEnabled(False)\n nuke.thisGroup().knob('Avg').setEnabled(False)\nelse:\n nuke.thisGroup().knob('Min').setEnabled(True)\n nuke.thisGroup().knob('Max').setEnabled(True)\n nuke.thisGroup().knob('Avg').setEnabled(True) "}
 addUserKnob {22 reset l "Reset to Defaults" -STARTLINE T "theNodes=nuke.allNodes(group = nuke.thisGroup())\nwidth=nuke.thisGroup().input(0).width()\nheight=nuke.thisGroup().input(0).height()\n\nfor i in theNodes:\n if \"valueMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"luminanceMeasurer\" in i.knob('name').value():\n  i.knob('ROI').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('autocropdata').setValue(\[0, 0, width, height])\n  i.knob('intensitydata').clearAnimated()\n  i.knob('intensitydata').setValue(\[0,0,0,0])\n  i.knob('minlumapixvalue').clearAnimated()\n  i.knob('minlumapixvalue').setValue(\[0,0,0])\n  i.knob('maxlumapixvalue').clearAnimated()\n  i.knob('maxlumapixvalue').setValue(\[0,0,0])\n\n if \"stampText\" in i.knob('name').value():\n  i.knob('box').setValue(\[8, 0, width, (height-8)])"}
 addUserKnob {20 endGroup_3 l endGroup n -1}
}
 Input {
  inputs 0
  name Reference
  label Reference
  xpos 1000
  ypos -772
  number 1
 }
 Dot {
  name Dot3
  xpos 1031
  ypos -369
 }
set N5684b400 [stack 0]
 Dot {
  name Dot34
  xpos 1031
  ypos -333
 }
set N5684b000 [stack 0]
 Input {
  inputs 0
  name Source
  label Source
  xpos 280
  ypos -772
 }
 Dot {
  name Dot25
  xpos 311
  ypos -693
 }
set N5684a800 [stack 0]
 Premult {
  name Premult
  xpos 200
  ypos -694
 }
 Dot {
  name Dot26
  xpos 231
  ypos -657
 }
push $N5684a800
 Switch {
  inputs 2
  which {{parent.PremultCkb}}
  name PremultSwitch
  tile_color 0x55ffbfff
  xpos 280
  ypos -658
 }
 Dot {
  name Dot2
  xpos 311
  ypos -585
 }
set N56875c00 [stack 0]
 Dot {
  name Dot9
  xpos 311
  ypos -441
 }
set N56875800 [stack 0]
 Dot {
  name Dot11
  xpos 311
  ypos -369
 }
set N56875400 [stack 0]
 Dot {
  name Dot33
  xpos 311
  ypos -333
 }
set N56875000 [stack 0]
 Merge2 {
  inputs 2
  operation minus
  name Merge1
  xpos 840
  ypos -334
 }
 Dot {
  name Dot43
  xpos 871
  ypos -261
 }
set N56874800 [stack 0]
push $N5684b000
 Dot {
  name Dot40
  xpos 1031
  ypos -297
 }
set N56874400 [stack 0]
 Merge2 {
  inputs 2
  operation divide
  name Merge3
  xpos 1000
  ypos -262
 }
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name NMSE
  tile_color 0x840000ff
  xpos 1000
  ypos -226
 }
set N5689dc00 [stack 0]
 Dot {
  name Dot44
  xpos 1031
  ypos -81
 }
push $N56874800
 Expression {
  expr0 r*r
  expr1 g*g
  expr2 b*b
  channel3 alpha
  expr3 a*a
  name MSE
  tile_color 0x840000ff
  xpos 840
  ypos -226
 }
 Dot {
  name Dot42
  xpos 871
  ypos -117
 }
push $N5684b400
push $N56875400
 Merge2 {
  inputs 2
  operation difference
  name ABS
  xpos 440
  ypos -370
 }
 Dot {
  name Dot39
  xpos 471
  ypos -297
 }
set N5689c000 [stack 0]
push $N56874400
 Merge2 {
  inputs 2
  operation divide
  name Merge2
  xpos 520
  ypos -298
 }
 Dot {
  name Dot41
  xpos 551
  ypos -225
 }
push $N5689c000
 Dot {
  name Dot16
  xpos 471
  ypos -261
 }
push $N56875c00
 Dot {
  name Dot8
  xpos 471
  ypos -585
 }
 Expression {
  temp_name0 kernelR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 kernelG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 kernelB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 kernelA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 "fabs ( r-kernelR)"
  expr1 "fabs ( g-kernelG  )"
  expr2 "fabs ( b-kernelB)"
  channel3 alpha
  expr3 "fabs ( a-kernelA)"
  name ABS_NT
  tile_color 0x840000ff
  xpos 440
  ypos -550
 }
 Dot {
  name Dot14
  xpos 471
  ypos -513
 }
set N568c4400 [stack 0]
push $N56875800
 Merge2 {
  inputs 2
  operation divide
  name NORMALISE
  xpos 440
  ypos -442
 }
 Dot {
  name Dot15
  xpos 471
  ypos -405
 }
 Dot {
  name Dot19
  xpos 711
  ypos -405
 }
 Dot {
  name Dot20
  xpos 711
  ypos -189
 }
push $N56875c00
 Dot {
  name Dot7
  xpos 231
  ypos -585
 }
set N568ef000 [stack 0]
 Dot {
  name Dot10
  xpos 151
  ypos -585
 }
set N568eec00 [stack 0]
 Dot {
  name Dot12
  xpos 71
  ypos -585
 }
set N568ee800 [stack 0]
 Dot {
  name Dot13
  xpos -9
  ypos -585
 }
 Expression {
  temp_name0 snrR
  temp_expr0 "(sqrt (\[value VARIANCE.temp_expr0]))/(\[value AVG.temp_expr0])"
  temp_name1 snrG
  temp_expr1 "(sqrt (\[value VARIANCE.temp_expr1]))/(\[value AVG.temp_expr1])"
  temp_name2 snrB
  temp_expr2 "(sqrt (\[value VARIANCE.temp_expr2]))/(\[value AVG.temp_expr2])"
  temp_name3 snrA
  temp_expr3 "(sqrt (\[value VARIANCE.temp_expr3]))/(\[value AVG.temp_expr3])"
  expr0 snrR
  expr1 snrG
  expr2 snrB
  channel3 alpha
  expr3 snrA
  name SNR
  tile_color 0x840000ff
  xpos -40
  ypos -442
 }
 Dot {
  name Dot21
  xpos -9
  ypos -153
 }
push $N568ee800
 Expression {
  temp_name0 varR
  temp_expr0 " \[value RMS.temp_expr0]-(\[value AVG.temp_expr0] * \[value AVG.temp_expr0])"
  temp_name1 varG
  temp_expr1 " \[value RMS.temp_expr1]-(\[value AVG.temp_expr1] * \[value AVG.temp_expr1])"
  temp_name2 varB
  temp_expr2 " \[value RMS.temp_expr2]-(\[value AVG.temp_expr2] * \[value AVG.temp_expr2])"
  temp_name3 varA
  temp_expr3 " \[value RMS.temp_expr3]-(\[value AVG.temp_expr3] * \[value AVG.temp_expr3])"
  expr0 varR
  expr1 varG
  expr2 varB
  channel3 alpha
  expr3 varA
  name VARIANCE
  tile_color 0x840000ff
  xpos 40
  ypos -550
 }
 Dot {
  name Dot22
  xpos 71
  ypos -189
 }
push $N568eec00
 Expression {
  temp_name0 rmsR
  temp_expr0 "sqrt ( (r(x,y)*r(x,y)+r(x,y-1)*r(x,y-1)+r(x,y+1)*r(x,y+1)+r(x-1,y)*r(x-1,y)+r(x-1,y-1)*r(x-1,y-1)+r(x-1,y+1)*r(x-1,y+1)+r(x+1,y)*r(x+1,y)+r(x+1,y-1)*r(x+1,y-1)+r(x+1,y+1)*r(x+1,y+1))/9\n)"
  temp_name1 rmsG
  temp_expr1 "sqrt ((g(x,y)*g(x,y)+g(x,y-1)*g(x,y-1)+g(x,y+1)*g(x,y+1)+g(x-1,y)*g(x-1,y)+g(x-1,y-1)*g(x-1,y-1)+g(x-1,y+1)*g(x-1,y+1)+g(x+1,y)*g(x+1,y)+g(x+1,y-1)*g(x+1,y-1)+g(x+1,y+1)*g(x+1,y+1))/9\n)"
  temp_name2 rmsB
  temp_expr2 "sqrt ((b(x,y)*b(x,y)+b(x,y-1)*b(x,y-1)+b(x,y+1)*b(x,y+1)+b(x-1,y)*b(x-1,y)+b(x-1,y-1)*b(x-1,y-1)+b(x-1,y+1)*b(x-1,y+1)+b(x+1,y)*b(x+1,y)+b(x+1,y-1)*b(x+1,y-1)+b(x+1,y+1)*b(x+1,y+1))/9\n)"
  temp_name3 rmsA
  temp_expr3 "sqrt ((a(x,y)*a(x,y)+a(x,y-1)*a(x,y-1)+a(x,y+1)*a(x,y+1)+a(x-1,y)*a(x-1,y)+a(x-1,y-1)*a(x-1,y-1)+a(x-1,y+1)*a(x-1,y+1)+a(x+1,y)*a(x+1,y)+a(x+1,y-1)*a(x+1,y-1)+a(x+1,y+1)*a(x+1,y+1))/9)"
  expr0 rmsR
  expr1 rmsG
  expr2 rmsB
  channel3 alpha
  expr3 rmsA
  name RMS
  tile_color 0x840000ff
  xpos 120
  ypos -478
 }
 Dot {
  name Dot23
  xpos 151
  ypos -225
 }
push $N568ef000
 Expression {
  temp_name0 avgR
  temp_expr0 (r(x,y)+r(x,y-1)+r(x,y+1)+r(x-1,y)+r(x-1,y-1)+r(x-1,y+1)+r(x+1,y)+r(x+1,y-1)+r(x+1,y+1))/9
  temp_name1 avgG
  temp_expr1 (g(x,y)+g(x,y-1)+g(x,y+1)+g(x-1,y)+g(x-1,y-1)+g(x-1,y+1)+g(x+1,y)+g(x+1,y-1)+g(x+1,y+1))/9
  temp_name2 avgB
  temp_expr2 (b(x,y)+b(x,y-1)+b(x,y+1)+b(x-1,y)+b(x-1,y-1)+b(x-1,y+1)+b(x+1,y)+b(x+1,y-1)+b(x+1,y+1))/9
  temp_name3 avgA
  temp_expr3 "\n(a(x,y)+a(x,y-1)+a(x,y+1)+a(x-1,y)+a(x-1,y-1)+a(x-1,y+1)+a(x+1,y)+a(x+1,y-1)+a(x+1,y+1))/9"
  expr0 avgR
  expr1 avgG
  expr2 avgB
  channel3 alpha
  expr3 avgA
  name AVG
  tile_color 0x840000ff
  xpos 200
  ypos -550
 }
 Dot {
  name Dot24
  xpos 231
  ypos -225
 }
push $N568c4400
 Dot {
  name Dot17
  xpos 791
  ypos -513
 }
 Dot {
  name Dot18
  xpos 791
  ypos -153
 }
push $N56875000
 Switch {
  inputs 11
  which {{viewPD}}
  name ModeSwitch
  tile_color 0x47cc9cff
  xpos 280
  ypos -82
 }
 Dot {
  name Dot27
  xpos 311
  ypos -45
 }
set N5692e800 [stack 0]
 Dot {
  name Dot28
  xpos 231
  ypos -45
 }
 Expression {
  expr0 "isnan(r) ? 0 : r"
  expr1 "isnan(g) ? 0 : g"
  expr2 "isnan(b) ? 0 : b"
  expr3 "isnan(a) ? 0 : a"
  name NanProtector
  xpos 200
  ypos -10
 }
 Dot {
  name Dot29
  xpos 231
  ypos 27
 }
push $N5692e800
 Switch {
  inputs 2
  which {{parent.nanProtect}}
  name NaNProtSwitch
  xpos 280
  ypos 26
 }
 Dot {
  name Dot5
  xpos 311
  ypos 63
 }
set N56951400 [stack 0]
 Dot {
  name Dot30
  xpos 231
  ypos 63
 }
set N56951000 [stack 0]
 Dot {
  name Dot32
  xpos -9
  ypos 63
 }
set N56950c00 [stack 0]
 Dot {
  name Dot6
  xpos -89
  ypos 63
 }
set N56950800 [stack 0]
 CurveTool {
  channels {-rgba.red rgba.green -rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve} 0.001689319548 0 0}
  maxlumapixdata {{curve x1 289} {curve x1 206}}
  maxlumapixvalue {{curve x1 0} {curve x1 0.0777156055} 0}
  minlumapixdata {{curve x1 7} {curve x1 174}}
  minlumapixvalue {{curve x1 0} {curve x1 1.490116119e-008} 0}
  name valueMeasurerG
  tile_color 0xb740b6ff
  xpos -120
  ypos 134
 }
push $N56950c00
 CurveTool {
  channels {-rgba.red -rgba.green rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve} 0 0.001835973508 0}
  maxlumapixdata {{curve x1 289} {curve x1 206}}
  maxlumapixvalue {{curve x1 0} {curve x1 0} 0.121938765}
  minlumapixdata {{curve x1 105} {curve x1 202}}
  minlumapixvalue {{curve x1 0} {curve x1 0} 2.980232239e-008}
  name valueMeasurerB
  tile_color 0xb740b6ff
  xpos -40
  ypos 134
 }
push $N56950800
 Dot {
  name Dot31
  xpos -169
  ypos 63
 }
 CurveTool {
  channels {rgba.red -rgba.green -rgba.blue none}
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve x1 0.001679557159} 0 0 0}
  maxlumapixdata {{curve x1 13} {curve x1 4}}
  maxlumapixvalue {{curve x1 0.1005698144} {curve x1 0} 0}
  minlumapixdata {{curve x1 111} {curve x1 178}}
  minlumapixvalue {{curve x1 1.490116119e-008} {curve x1 0} 0}
  name valueMeasurerR
  tile_color 0xb740b6ff
  xpos -200
  ypos 134
 }
push $N56951000
 Colorspace {
  colorspace_out CIE-Yxy
  bradford_matrix true
  name ToYxyCS
  tile_color 0x59dbd8ff
  xpos 200
  ypos 98
 }
 CurveTool {
  ROI {0 0 300 221}
  autocropdata {0 0 300 221}
  intensitydata {{curve x1 0.0016978292} {curve x1 0.2973679915} {curve x1 0.3080472349} 0}
  maxlumapixdata {{curve x1 22} {curve x1 16}}
  maxlumapixvalue {{curve x1 0.0004325651389} {curve x1 0.62397331} 0.3218186498}
  minlumapixdata {{curve x1 128} {curve x1 146}}
  minlumapixvalue {{curve x1 3.292014662e-005} {curve x1 0.1538330615} 0.0624046661}
  name luminanceMeasurer
  tile_color 0xb740b6ff
  xpos 200
  ypos 134
 }
push $N56951400
 Dot {
  name Dot35
  xpos 311
  ypos 171
 }
set N56986c00 [stack 0]
 Dot {
  name Dot36
  xpos 391
  ypos 171
 }
set N56986800 [stack 0]
 Dot {
  name Dot38
  xpos 471
  ypos 171
 }
 Grade {
  white {{"1.0/(max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) !=0.0 ? max (valueMeasurerR.intensitydata.r, valueMeasurerG.intensitydata.g, valueMeasurerB.intensitydata.b, luminanceMeasurer.intensitydata.r) :1)"}}
  name AutoOutputGainByAvg
  xpos 440
  ypos 206
 }
push $N56986800
 Grade {
  white {{"1.0/(max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) !=0.0 ? max (valueMeasurerR.maxlumapixvalue.r, valueMeasurerG.maxlumapixvalue.g, valueMeasurerB.maxlumapixvalue.b, luminanceMeasurer.maxlumapixvalue.r) :1)"}}
  name AutoOutputGainByMax
  xpos 360
  ypos 206
 }
push $N56986c00
 Switch {
  inputs 3
  which {{autoNormaliseOutputMode}}
  name autoManualSwitch
  xpos 280
  ypos 278
 }
 Grade {
  white {{outputGainValue}}
  name additionalOutputGain
  xpos 280
  ypos 314
 }
 Dot {
  name Dot37
  xpos 311
  ypos 351
 }
set N569c9400 [stack 0]
 Dot {
  name Dot1
  xpos 471
  ypos 351
 }
 Text2 {
  font_size_toolbar 16
  font_width_toolbar 100
  font_height_toolbar 100
  message "Mode: \[value viewPD]\nmin (RGBV):  \[format \"%f\" \[value valueMeasurerR.minlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.minlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.minlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.minlumapixvalue.r]]\nmax (RGBV):  \[format \"%f\" \[value valueMeasurerR.maxlumapixvalue.r]], \[format \"%f\" \[value valueMeasurerG.maxlumapixvalue.g]], \[format \"%f\" \[value valueMeasurerB.maxlumapixvalue.b]], \[format \"%f\" \[value luminanceMeasurer.maxlumapixvalue.r]]\navg (RGBV):   \[format \"%f\" \[value valueMeasurerR.intensitydata.r]], \[format \"%f\" \[value valueMeasurerG.intensitydata.g]], \[format \"%f\" \[value valueMeasurerB.intensitydata.b]], \[format \"%f\" \[value luminanceMeasurer.intensitydata.r]]\n\n"
  old_message {{77 111 100 101 58 32 78 111 105 115 101 32 84 104 114 101 115 104 111 108 100 32 40 65 98 115 41 10 109 105 110 32 40 82 71 66 86 41 58 32 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 48 48 44 32 48 46 48 48 48 48 51 51 10 109 97 120 32 40 82 71 66 86 41 58 32 32 48 46 49 48 48 53 55 48 44 32 48 46 48 55 55 55 49 54 44 32 48 46 49 50 49 57 51 57 44 32 48 46 48 48 48 52 51 51 10 97 118 103 32 40 82 71 66 86 41 58 32 32 32 48 46 48 48 49 54 56 48 44 32 48 46 48 48 49 54 56 57 44 32 48 46 48 48 49 56 51 54 44 32 48 46 48 48 49 54 57 56 10 10}
    }
  old_expression_markers {{6 26 41 48 51 58 61 68 71 78 93 100 103 110 113 120 123 130 146 153 156 163 166 173 176 183}
    }
  box {8 0 300 213}
  transforms {{0 2}
    }
  font_size_values {{0 16 1 16 2 16 3 16 4 16 5 16 6 16 7 16 8 16 9 16 10 16 11 16 12 16 13 16 14 16 15 16 16 16 17 16 18 16 19 16 20 16 21 16 22 16 23 16 24 16 25 16 26 16 5 14 27 16 28 16 29 16 30 16 31 16 32 16 33 16 34 16 35 16 36 16 37 16 38 16 39 16 40 16 41 16 42 16 43 16 44 16 45 16 46 16 47 16 48 16 182 16 28 20 29 20 30 20 38 20 49 16 50 16 51 16 52 16 53 16 54 16 55 16 56 16 57 16 58 16 59 16 60 16 61 16 62 16 63 16 64 16 65 16 66 16 67 16 68 16 69 16 70 16 71 16 72 16 73 16 74 16 75 16 76 16 77 16 78 16 79 16 80 16 81 16 82 16 83 16 84 16 85 16 86 16 87 16 88 16 89 16 90 16 91 16 92 16 93 16 94 16 95 16 96 16 97 16 98 16 99 16 100 16 101 16 102 16 103 16 104 16 105 16 106 16 107 16 108 16 109 16 110 16 111 16 112 16 113 16 114 16 115 16 116 16 117 16 118 16 119 16 120 16 121 16 122 16 123 16 124 16 125 16 126 16 127 16 128 16 129 16 130 16 131 16 132 16 133 16 134 16 135 16 136 16 137 16 138 16 139 16 140 16 141 16 142 16 143 16 144 16 145 16 146 16 147 16 148 16 149 16 150 16 151 16 152 16 153 16 154 16 155 16 156 16 157 16 158 16 159 16 160 16 161 16 162 16 163 16 164 16 165 16 166 16 167 16 168 16 169 16 170 16 171 16 172 16 173 16 174 16 175 16 176 16 177 16 178 16 179 16 180 16 172 15 173 15 174 15 175 15 176 15 177 15 178 15 179 15 180 15 181 16 181 16 183 16 184 16 185 16 183 1000 184 1000 185 1000}
    }
  cursor_position 732
  font_size 16
  scale {1 1}
  cursor_initialised true
  autofit_bbox false
  initial_cursor_position {{7 1558.5}
    }
  group_animations {{0} imported: 0 selected: items: "root transform/"}
  animation_layers {{1 11 1024 778 0 0 1 1 0 0 0 0}
    }
  enable_shadows true
  shadow_opacity 1
  shadow_distance 0
  shadow_softness 1.5
  shadow_size 4.5
  name stampText
  tile_color 0xffd600ff
  xpos 440
  ypos 386
 }
 Dot {
  name Dot4
  xpos 471
  ypos 423
 }
push $N569c9400
 Switch {
  inputs 2
  which {{parent.showText}}
  name StampSwitch
  tile_color 0x55ff7fff
  xpos 280
  ypos 422
 }
 Output {
  name Output1
  xpos 280
  ypos 494
 }
push $N5689dc00
 Viewer {
  frame_range 1-100
  colour_sample_bbox {-0.3305555582 1.066666722 -0.3277777731 1.069444418}
  name Viewer1
  xpos 1320
  ypos -226
 }
end_group
push $N5684bc00
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet6
 xpos 6508
 ypos -226
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].png"
 file_type png
 checkHashOnRead false
 version 1
 in_colorspace linear
 out_colorspace linear
 name Write7
 xpos 6508
 ypos -196
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_005/indoor_to_outdoor_005_Unweighted.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 18
 origfirst 0
 origlast 18
 origset true
 name Read30
 xpos 7770
 ypos -519
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_005/indoor_to_outdoor_005_Histogram.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 18
 origfirst 0
 origlast 18
 origset true
 name Read28
 xpos 7640
 ypos -570
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_005/indoor_to_outdoor_005_Bins.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 18
 origfirst 0
 origlast 18
 origset true
 name Read31
 xpos 7486
 ypos -608
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_005/indoor_to_outdoor_005_Raw.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 18
 origfirst 0
 origlast 18
 origset true
 name Read29
 xpos 7374
 ypos -552
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 1
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet7
 xpos 7674
 ypos -377
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 6
 in_colorspace linear
 out_colorspace linear
 name Write8
 xpos 7674
 ypos -311
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_003/indoor_to_outdoor_003_Unweighted.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read35
 xpos 8566
 ypos -522
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_003/indoor_to_outdoor_003_Histogram.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read33
 xpos 8433
 ypos -500
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_003/indoor_to_outdoor_003_Bins.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read32
 xpos 8309
 ypos -499
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_003/indoor_to_outdoor_003_Raw.#.exr
 format "480 270 0 0 480 270 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read34
 xpos 8176
 ypos -490
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet8
 xpos 8453
 ypos -254
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 6
 in_colorspace linear
 out_colorspace linear
 name Write9
 xpos 8453
 ypos -196
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_008/indoor_to_outdoor_008_Unweighted.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read39
 xpos 9320
 ypos -544
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_008/indoor_to_outdoor_008_Histogram.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read37
 xpos 9190
 ypos -544
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_008/indoor_to_outdoor_008_Bins.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read36
 xpos 9080
 ypos -544
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_008/indoor_to_outdoor_008_Raw.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 90
 origfirst 0
 origlast 90
 origset true
 name Read38
 xpos 8972
 ypos -537
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet9
 xpos 9132
 ypos -230
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 16
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 6
 in_colorspace linear
 out_colorspace linear
 name Write10
 xpos 9132
 ypos -172
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_010/indoor_to_outdoor_010_Raw.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read42
 xpos 11240
 ypos -508
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_010/indoor_to_outdoor_010_Bins.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read40
 xpos 11330
 ypos -500
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_010/indoor_to_outdoor_010_Unweighted.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read43
 xpos 11441
 ypos -491
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_010/indoor_to_outdoor_010_Histogram.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read41
 xpos 11586
 ypos -484
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/indoor_to_outdoor_020_Histogram.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read45
 xpos 10920
 ypos -688
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "History-Based Result"
 old_message {{72 105 115 116 111 114 121 45 66 97 115 101 100 32 82 101 115 117 108 116}
   }
 box {0 124 93 135}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 13 10 14 10 15 10 16 10 17 10 18 10 19 10 0 10}
   }
 cursor_position 20
 font_size 10
 scale {1 1}
 center {120 67.5}
 cursor_initialised true
 initial_cursor_position {{0 135}
   }
 group_animations {{0} imported: 0 selected: 0 items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 name Text3
 xpos 10908
 ypos -417
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/indoor_to_outdoor_020_Unweighted.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read47
 xpos 10760
 ypos -694
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Unweighted1111h
 old_message {{85 110 119 101 105 103 104 116 101 100 49 49 49 49 104}
   }
 box {0 124 82 135}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 13 10 14 10 0 10}
   }
 cursor_position 15
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 135}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 name Text4
 xpos 10745
 ypos -422
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/indoor_to_outdoor_020_Bins.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read44
 xpos 10607
 ypos -678
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Bins
 old_message {{66 105 110 115}
   }
 box {0 124 20 135}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 0 10}
   }
 cursor_position 4
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 135}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 name Text2
 xpos 10630
 ypos -414
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/indoor_to_outdoor_020_Raw.#.exr
 format "240 135 0 0 240 135 1 "
 first 0
 last 249
 origfirst 0
 origlast 249
 origset true
 name Read46
 xpos 10415
 ypos -676
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "Raw Render"
 old_message {{82 97 119 32 82 101 110 100 101 114}
   }
 box {0 124 54 135}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 135}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 name Text1
 xpos 10460
 ypos -400
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet10
 xpos 10735
 ypos -347
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 25
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 8
 in_colorspace linear
 out_colorspace linear
 name Write11
 xpos 10735
 ypos -286
}
Read {
 inputs 0
 file D:/_Benchmarking/Benchmark_Scenes/SP3/02_Aerial_Prespective/exposimeter_renders/Aerial_Perspective06/Aerial_Perspective06_Histogram.#.exr
 format "267 400 0 0 267 400 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read49
 xpos 12532
 ypos -688
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message History-Based
 old_message {{72 105 115 116 111 114 121 45 66 97 115 101 100}
   }
 box {0 5.3999939 64 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 11 10 12 10}
   }
 cursor_position 13
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text11
 xpos 12498
 ypos -594
}
Read {
 inputs 0
 file D:/_Benchmarking/Benchmark_Scenes/SP3/02_Aerial_Prespective/exposimeter_renders/Aerial_Perspective06/Aerial_Perspective06_Unweighted.#.exr
 format "267 400 0 0 267 400 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read51
 xpos 12365
 ypos -718
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Unweighted
 old_message {{85 110 119 101 105 103 104 116 101 100}
   }
 box {0 5.3999939 56 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text10
 xpos 12328
 ypos -616
}
Read {
 inputs 0
 file D:/_Benchmarking/Benchmark_Scenes/SP3/02_Aerial_Prespective/exposimeter_renders/Aerial_Perspective06/Aerial_Perspective06_Bins.#.exr
 format "267 400 0 0 267 400 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read48
 xpos 12200
 ypos -733
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Bins
 old_message {{66 105 110 115}
   }
 box {0 5.3999939 20 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 0 10}
   }
 cursor_position 4
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text9
 xpos 12200
 ypos -635
}
Read {
 inputs 0
 file D:/_Benchmarking/Benchmark_Scenes/SP3/02_Aerial_Prespective/exposimeter_renders/Aerial_Perspective06/Aerial_Perspective06_Raw.#.exr
 format "267 400 0 0 267 400 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read50
 xpos 12021
 ypos -715
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "Raw Render"
 old_message {{82 97 119 32 82 101 110 100 101 114}
   }
 box {0 5.3999939 54 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text5
 xpos 12021
 ypos -617
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet11
 xpos 12373
 ypos -478
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 25
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 9
 in_colorspace linear
 out_colorspace linear
 name Write12
 xpos 12382
 ypos -420
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/Raw/exposimeter_renders/indoor_to_outdoor_020_Raw.0/History.#.exr
 format "240 135 0 0 240 135 1 "
 last 250
 origlast 250
 origset true
 version 2
 name Read53
 xpos 13836
 ypos -699
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message History-Based
 old_message {{72 105 115 116 111 114 121 45 66 97 115 101 100}
   }
 box {0 5.3999939 64 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 11 10 12 10}
   }
 cursor_position 13
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text6
 xpos 13836
 ypos -550
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/Raw/exposimeter_renders/indoor_to_outdoor_020_Raw.0/Unweighted.#.exr
 format "240 135 0 0 240 135 1 "
 last 250
 origlast 250
 origset true
 version 2
 name Read55
 xpos 13666
 ypos -704
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Unweighted
 old_message {{85 110 119 101 105 103 104 116 101 100}
   }
 box {0 5.3999939 56 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text7
 xpos 13666
 ypos -550
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/Raw/exposimeter_renders/indoor_to_outdoor_020_Raw.0/Bins.#.exr
 format "240 135 0 0 240 135 1 "
 last 250
 origlast 250
 origset true
 version 2
 name Read52
 xpos 13538
 ypos -698
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Bins
 old_message {{66 105 110 115}
   }
 box {0 5.3999939 20 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 0 10}
   }
 cursor_position 4
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text8
 xpos 13538
 ypos -550
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/indoor_to_outdoor_020/Raw/exposimeter_renders/indoor_to_outdoor_020_Raw.0/RawInput.#.exr
 format "240 135 0 0 240 135 1 "
 last 250
 origlast 250
 origset true
 version 2
 name Read54
 xpos 13359
 ypos -688
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "Raw Render"
 old_message {{82 97 119 32 82 101 110 100 101 114}
   }
 box {0 5.3999939 54 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text12
 xpos 13359
 ypos -550
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet12
 xpos 13538
 ypos -478
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 25
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 12
 in_colorspace linear
 out_colorspace linear
 name Write13
 xpos 13538
 ypos -440
}
Read {
 inputs 0
 file "D:/_Clients/CJ/05 - Roundhouse Upstairs_.RGB_color.####.exr"
 format "1920 1080 0 0 1920 1080 1 HD_1080"
 first 0
 last 150
 origfirst 0
 origlast 150
 origset true
 name Read56
 xpos 14773
 ypos -890
}
ColorCorrect {
 highlights.gain 10
 lookup {shadow {curve 1 s0 x0.4939824343 0 s0}
   midtone {1-shadow-highlight}
   highlight {curve x1.001859903 0 s0 x1.521772385 1 s0}}
 name ColorCorrect1
 xpos 14773
 ypos -792
}
Reformat {
 type scale
 scale 0.25
 name Reformat1
 xpos 14773
 ypos -730
}
Write {
 file "\[file rootname \[knob \[topnode].file] ]_sml.exr"
 file_type exr
 version 2
 in_colorspace linear
 out_colorspace linear
 name Write14
 xpos 14773
 ypos -683
}
Read {
 inputs 0
 file "D:/_Clients/CJ/small/exposimeter_renders/05 - Roundhouse Upstairs_.RGB_color.0000_sml/History.#.exr"
 format "480 270 0 0 480 270 1 "
 last 151
 origlast 151
 origset true
 version 1
 name Read58
 xpos 15847
 ypos -748
}
set N56d60000 [stack 0]
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message History-Based
 old_message {{72 105 115 116 111 114 121 45 66 97 115 101 100}
   }
 box {0 5.3999939 64 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 11 10 12 10}
   }
 cursor_position 13
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text13
 xpos 16012
 ypos -569
}
Read {
 inputs 0
 file "D:/_Clients/CJ/small/exposimeter_renders/05 - Roundhouse Upstairs_.RGB_color.0000_sml/Unweighted.#.exr"
 format "480 270 0 0 480 270 1 "
 last 151
 origlast 151
 origset true
 version 1
 name Read60
 xpos 15746
 ypos -760
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Unweighted
 old_message {{85 110 119 101 105 103 104 116 101 100}
   }
 box {0 5.3999939 56 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text14
 xpos 15842
 ypos -569
}
Read {
 inputs 0
 file "D:/_Clients/CJ/small/exposimeter_renders/05 - Roundhouse Upstairs_.RGB_color.0000_sml/Bins.#.exr"
 format "480 270 0 0 480 270 1 "
 last 151
 origlast 151
 origset true
 version 2
 name Read57
 xpos 15640
 ypos -760
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Bins
 old_message {{66 105 110 115}
   }
 box {0 5.3999939 20 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 0 10}
   }
 cursor_position 4
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text15
 xpos 15714
 ypos -569
}
Read {
 inputs 0
 file "D:/_Clients/CJ/small/exposimeter_renders/05 - Roundhouse Upstairs_.RGB_color.0000_sml/RawInput.#.exr"
 format "480 270 0 0 480 270 1 "
 last 151
 origlast 151
 origset true
 version 2
 name Read59
 xpos 15507
 ypos -746
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "Raw Render"
 old_message {{82 97 119 32 82 101 110 100 101 114}
   }
 box {0 5.3999939 54 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text16
 xpos 15535
 ypos -569
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet13
 xpos 15714
 ypos -497
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 25
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 14
 in_colorspace linear
 out_colorspace linear
 name Write15
 xpos 15714
 ypos -459
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/swing_light_001/swing_light_001_History.#.exr
 format "240 180 0 0 240 180 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read63
 xpos 15589
 ypos -213
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message History-Based
 old_message {{72 105 115 116 111 114 121 45 66 97 115 101 100}
   }
 box {0 5.3999939 64 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 10 10 11 10 12 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 11 10 12 10}
   }
 cursor_position 13
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text17
 xpos 15599
 ypos -87
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/swing_light_001/swing_light_001_Unweighted.#.exr
 format "240 180 0 0 240 180 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read61
 xpos 15395
 ypos -236
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Unweighted
 old_message {{85 110 119 101 105 103 104 116 101 100}
   }
 box {0 5.3999939 56 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text18
 xpos 15429
 ypos -87
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/swing_light_001/swing_light_001_Bins.#.exr
 format "240 180 0 0 240 180 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read64
 xpos 15257
 ypos -246
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message Bins
 old_message {{66 105 110 115}
   }
 box {0 5.3999939 20 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 0 10}
   }
 cursor_position 4
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text19
 xpos 15301
 ypos -87
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/swing_light_001/swing_light_001_RawInput.#.exr
 format "240 180 0 0 240 180 1 "
 first 0
 last 100
 origfirst 0
 origlast 100
 origset true
 name Read62
 xpos 15093
 ypos -231
}
Text2 {
 font_size_toolbar 10
 font_width_toolbar 100
 font_height_toolbar 100
 message "Raw Render"
 old_message {{82 97 119 32 82 101 110 100 101 114}
   }
 box {0 5.3999939 54 16.3999939}
 transforms {{0 2}
   }
 font_size_values {{0 10 1 10 2 10 3 10 4 10 5 10 6 10 7 10 8 10 9 10 0 10}
   }
 cursor_position 10
 font_size 10
 scale {1 1}
 cursor_initialised true
 initial_cursor_position {{0 16.3999939}
   }
 group_animations {{0} imported: 0 selected: items: "root transform/"}
 animation_layers {{1 11 120 67.5 0 0 1 1 0 0 0 0}
   }
 enable_shadows true
 shadow_opacity 1
 shadow_distance 0
 shadow_softness 4.6
 shadow_size 6
 name Text20
 xpos 15122
 ypos -87
}
ContactSheet {
 inputs 4
 width {{input.width*columns+((columns+1)*gap) 6604}}
 height {{input.height*rows+((rows+1)*gap)}}
 rows 2
 columns 2
 center true
 roworder TopBottom
 startframe 0
 endframe 0
 name AutoContactSheet14
 xpos 15301
 ypos -15
}
Write {
 file "\[file rootname \[knob \[topnode].file] ].mov"
 file_type mov
 meta_codec jpeg
 mov64_codec jpeg
 mov64_fps 25
 mov64_units Frames
 mov64_write_timecode true
 mov64_advanced 1
 mov64_bitrate 200000000
 mov64_bitrate_tolerance 214748348
 mov64_quality_min 2
 mov64_quality_max 31
 mov64_gop_size 12
 mov64_b_frames 0
 checkHashOnRead false
 version 14
 in_colorspace linear
 out_colorspace linear
 name Write16
 xpos 15301
 ypos 23
}
Read {
 inputs 0
 file "D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/single images/Donkey.exr"
 format "1920 1080 0 0 1920 1080 1 HD_1080"
 origset true
 name Read65
 xpos 14594
 ypos -328
}
Read {
 inputs 0
 file D:/_Code/GitRepo/Exposimeter_MKIV_RGB/exposimeter_renders/phoenix_beachwaves/beachwaves_v015_1080.####.exr
 format "1920 1080 0 0 1920 1080 1 HD_1080"
 first 450
 last 500
 origfirst 450
 origlast 500
 origset true
 name Read66
 xpos 15922
 ypos -360
}
Write {
 file "\[file rootname \[knob \[topnode].file] ]_RGB.exr"
 file_type exr
 version 2
 in_colorspace linear
 out_colorspace linear
 name Write17
 xpos 15976
 ypos -228
}
push $N56d60000
Read {
 inputs 0
 file D:/_QA/PhoenixFD/hot_chocolate.####.exr
 format "640 480 0 0 640 480 1 PC_Video"
 first 0
 last 300
 origfirst 0
 origlast 300
 origset true
 version 15
 name Read67
 xpos 14600
 ypos -1804
}
Viewer {
 inputs 2
 frame 0
 frame_range 0-15
 colour_sample_bbox {-0.1802083403 -0.3197916746 -0.1791666597 -0.318749994}
 translate {0.1169999987 -0.06199999899}
 rotate 60.61014175
 name Viewer1
 xpos 14971
 ypos -370
}
